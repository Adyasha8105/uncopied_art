{"version":3,"sources":["logo.svg","libs/contextLib.js","embossing.svg","containers/Home.js","containers/NotFound.js","containers/LoaderButton.js","libs/hooksLib.js","libs/errorLib.js","containers/Login.js","containers/Signup.js","containers/NewArtworkSource.js","containers/ArtworkSource.js","containers/ArtworkSources.js","containers/NewCertificate.js","containers/CheckoutCertificate.js","containers/CollectCertificate.js","Routes.js","libs/langLib.js","App.js","reportWebVitals.js","i18n.js","index.js"],"names":["AppContext","createContext","useAppContext","useContext","Home","t","useTranslation","isAuthenticated","className","src","embossing","alt","align","to","ListGroup","Item","action","Nav","Link","style","fontSize","href","NotFound","LoaderButton","isLoading","disabled","props","Button","children","useFormFields","initialState","useState","fields","setValues","event","target","id","value","console","log","JSON","stringify","onError","error","message","toString","Error","alert","Login","userHasAuthenticated","username","password","handleFieldChange","setIsLoading","history","useHistory","Form","onSubmit","preventDefault","xhr","XMLHttpRequest","open","process","setRequestHeader","onload","status","json","parse","responseText","user","token","localStorage","setItem","push","readyState","data","send","e","Group","size","controlId","Label","Control","autoFocus","type","onChange","block","length","Signup","displayName","email","role","as","variant","NewArtworkSource","file","useRef","license","setLicense","hash","setHash","isUploading","setIsUploading","a","current","getItem","Message","IPFSHash","formData","FormData","append","StampError","ID","files","accept","placeholder","ArtworkSource","artworkName","artMedium","artworkSurface","width","height","labelTemplate","certificateLabel","assetLabel","metadataTemplate","editionTotal","useParams","artworkSource","setArtworkSource","loadArtworkSource","sourceId","Promise","resolve","url","handleSubmit","parseInt","Template","valueOf","useEffect","onLoad","min","max","includes","plaintext","IPFSHashThumbnail","Date","CreatedAt","toLocaleString","SourceLicense","artworkSources","setArtworkSources","loadArtworkSources","renderArtworkSourcesList","map","item","artworkSourcesStamped","filter","NewCertificate","assetTemplate","setAssetTemplate","isCertificateAgreed","setIsCertificateAgreed","isLicenceAgreed","setIsLicenseAgreed","isPrivacyAgreed","setIsPrivacyAgreed","loadAssetTemplate","assetTemplateId","ObjectUUID","title","Check","label","CheckoutCertificate","uuid","checkout","setCheckout","loadCheckout","orderId","updateOrder","IsDIY","PaymentSuccess","details","Order","OrderUUID","stringified","createDIYOrder","actions","order","create","application_context","shipping_preference","purchase_units","Pricing","Ccy","PriceDiy","createOrder","Price","onDIYApprove","capture","then","payer","name","given_name","onApprove","onDIYError","err","dangerouslySetInnerHTML","__html","CertPreview","TaillyPreviewSVG","CcySymbol","options","color","CollectCertificate","key","setKey","validateForm","ProductionStatus","Math","random","ZipBundle","ProductionMessage","DeliveryStatus","PaymentStatus","Routes","exact","path","LangLib","i18n","lang","setLang","language","changeLanguage","App","setIsAuthenticating","Navbar","collapseOnSelect","bg","expand","Brand","logo","Toggle","Collapse","activeKey","window","location","pathname","onClick","removeItem","clear","class","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","resources","en","translation","fr","use","LanguageDetector","initReactI18next","init","lng","keySeparator","interpolation","escapeValue","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gwNAAe,MAA0B,iC,8CCE5BA,EAAaC,wBAAc,MAEjC,SAASC,IACd,OAAOC,qBAAWH,G,YCLL,MAA0B,sC,gBCU1B,SAASI,IAAQ,IACpBC,EAAMC,cAAND,EACAE,EAAoBL,IAApBK,gBAsIR,OACI,qBAAKC,UAAU,OAAf,SACKD,EA5FD,qBAAKC,UAAU,uBAAf,SACI,qBAAKA,UAAU,uBAAf,SACI,sBAAKA,UAAU,iBAAf,UACA,gCACI,qBAAKA,UAAU,YAAYC,IAAKC,EAAWC,IAAI,cAC/C,oBAAIC,MAAM,SAAV,yBAzBZ,cAAC,gBAAD,CAAeC,GAAG,YAAlB,SACI,cAACC,EAAA,EAAUC,KAAX,CAAgBC,QAAM,EAACR,UAAU,iCAAjC,SACI,sBAAMA,UAAU,wBAAhB,2CAkCR,sBAAKA,UAAU,OAAf,UACI,sBAAKA,UAAU,SAAf,UACI,8CACA,mBAAGA,UAAU,aAAb,SACKH,EAAE,4BAEP,cAAC,gBAAD,CAAeQ,GAAG,UAAlB,SACI,cAACI,EAAA,EAAIC,KAAL,UAAWb,EAAE,wBAGrB,sBAAKG,UAAU,WAAf,UACI,6BAAKH,EAAE,kBACP,6BAAKA,EAAE,sBACP,4BACKA,EAAE,gCAEP,6BAAKA,EAAE,yBACP,4BACKA,EAAE,mCAEP,6BAAKA,EAAE,sBACP,4BACKA,EAAE,mCAGX,sBAAKG,UAAU,WAAf,UACI,6BAAKH,EAAE,uBACP,4BACKA,EAAE,4BAEP,mBAAGG,UAAU,wBAAwBW,MAAO,CAAEC,SAAU,MACxD,6BAAKf,EAAE,yBACP,4BACKA,EAAE,8BAEP,mBAAGG,UAAU,oBAAoBW,MAAO,CAAEC,SAAU,MACpD,6BAAKf,EAAE,yBACP,4BACKA,EAAE,8BAEP,mBAAGG,UAAU,wBAAwBW,MAAO,CAAEC,SAAU,MACxD,6BAAKf,EAAE,yBACP,4BACKA,EAAE,8BAEP,mBAAGG,UAAU,kBAAkBW,MAAO,CAAEC,SAAU,MAClD,6BAAKf,EAAE,yBACP,4BACKA,EAAE,8BAEP,mBAAGG,UAAU,6BAA6BW,MAAO,CAAEC,SAAU,MAC7D,6BAAKf,EAAE,yBACP,4BACKA,EAAE,iCAGX,sBAAKG,UAAU,WAAf,UACI,6BAAKH,EAAE,sBACP,8BACKA,EAAE,yBACH,mBAAGgB,KAAK,kDAAR,SAA2DhB,EAAE,mCAGrE,sBAAKG,UAAU,WAAf,UACI,6BAAKH,EAAE,gBACP,4BACKA,EAAE,6B,MCvIZ,SAASiB,IACtB,OACE,qBAAKd,UAAU,uBAAf,SACE,0D,iDCDS,SAASe,EAAT,GAKX,IAJFC,EAIC,EAJDA,UAIC,IAHDhB,iBAGC,MAHW,GAGX,MAFDiB,gBAEC,SADEC,EACF,oDACD,OACE,eAACC,EAAA,EAAD,yBACEF,SAAUA,GAAYD,EACtBhB,UAAS,uBAAkBA,IACvBkB,GAHN,cAKGF,GAAa,cAAC,IAAD,CAAehB,UAAU,aACtCkB,EAAME,a,YChBN,SAASC,EAAcC,GAAe,IAAD,EACdC,mBAASD,GADK,mBACnCE,EADmC,KAC3BC,EAD2B,KAG1C,MAAO,CACLD,EACA,SAASE,GACPD,EAAU,2BACLD,GADI,kBAENE,EAAMC,OAAOC,GAAKF,EAAMC,OAAOE,SAElCC,QAAQC,IAAI,YAAYC,KAAKC,UAAUT,MCZtC,SAASU,EAAQC,GACtB,IAAIC,EAAUD,EAAME,WAGdF,aAAiBG,QAAUH,EAAMC,UACrCA,EAAUD,EAAMC,SAGlBG,MAAMH,GCIO,SAASI,IAAS,IACxBC,EAAyB/C,IAAzB+C,qBADuB,EAEKpB,EAAc,CACjDqB,SAAU,GACVC,SAAU,KAJoB,mBAExBnB,EAFwB,KAEhBoB,EAFgB,OAMGrB,oBAAS,GANZ,mBAMxBP,EANwB,KAMb6B,EANa,KAOzBC,EAAUC,cAuChB,OACC,qBAAK/C,UAAU,uBAAf,SACC,sBAAKA,UAAU,uBAAf,UACC,gCACC,qBAAKA,UAAU,YAAYC,IAAKC,EAAWC,IAAI,cAC/C,oBAAIC,MAAM,SAAV,uCAED,eAAC4C,EAAA,EAAD,CAAMC,SAxCT,SAAsBvB,GACrBA,EAAMwB,iBACN,IACCL,GAAa,GAGb,IAAIM,EAAM,IAAIC,eAGdD,EAAIE,KAAK,OADCC,4CACY,GACtBH,EAAII,iBAAiB,eAAgB,oBACrCJ,EAAIK,OAAS,WACZ,GAAmB,MAAfL,EAAIM,OAAgB,CACvB,IAAIC,EAAO1B,KAAK2B,MAAMR,EAAIS,cAC1B9B,QAAQC,IAAI2B,EAAKG,KAAO,KAAOH,EAAKI,OACpCC,aAAaC,QAAQ,UAAWN,EAAKI,OACrCrB,GAAqB,GACrBK,EAAQmB,KAAK,UAEb1B,MAAM,+BAAiCf,EAAOkB,SAAW,mBAAqBS,EAAIe,WAAa,eAAiBf,EAAIM,QACpHZ,GAAa,GACbJ,GAAqB,IAGvB,IAAI0B,EAAOnC,KAAKC,UAAU,CAAE,SAAYT,EAAOkB,SAAU,SAAYlB,EAAOmB,WAC5EQ,EAAIiB,KAAKD,GACR,MAAOE,GACRnC,EAAQmC,GACRxB,GAAa,GACbJ,GAAqB,KAWpB,UACC,eAACO,EAAA,EAAKsB,MAAN,CAAYC,KAAK,KAAKC,UAAU,WAAhC,UACC,cAACxB,EAAA,EAAKyB,MAAN,uBACA,cAACzB,EAAA,EAAK0B,QAAN,CACCC,WAAS,EACTC,KAAK,WACL/C,MAAOL,EAAOkB,SACdmC,SAAUjC,OAGZ,eAACI,EAAA,EAAKsB,MAAN,CAAYC,KAAK,KAAKC,UAAU,WAAhC,UACC,cAACxB,EAAA,EAAKyB,MAAN,uBACA,cAACzB,EAAA,EAAK0B,QAAN,CACCE,KAAK,WACL/C,MAAOL,EAAOmB,SACdkC,SAAUjC,OAGZ,cAAC,EAAD,CACCkC,OAAK,EACLP,KAAK,KACLK,KAAK,SACL5D,UAAWA,EACXC,WAlEGO,EAAOkB,SAASqC,OAAS,GAAKvD,EAAOmB,SAASoC,OAAS,GA6D3D,2BCtEU,SAASC,IAAU,IAAD,EACK3D,EAAc,CAChDqB,SAAU,GACVuC,YAAa,GACbC,MAAO,GACPvC,SAAU,GACVwC,KAAM,WANuB,mBACxB3D,EADwB,KAChBoB,EADgB,KAQzBE,EAAUC,cARe,EASDxB,mBAAS,MATR,mBAUvBkB,GAVuB,UAUE/C,IAAzB+C,sBAVuB,EAWGlB,oBAAS,GAXZ,mBAWxBP,EAXwB,KAWb6B,EAXa,KA4D/B,OACE,qBAAK7C,UAAU,uBAAf,SACE,sBAAKA,UAAU,uBAAf,UACE,gCACE,qBAAKA,UAAU,YAAYC,IAAKC,EAAWC,IAAI,cAC/C,oBAAIC,MAAM,SAAV,oCAEF,eAAC4C,EAAA,EAAD,CAAMC,SA7CZ,SAAsBvB,GACpBA,EAAMwB,iBACN,IACEL,GAAa,GAGb,IAAIM,EAAM,IAAIC,eAEdD,EAAIE,KAAK,OADCC,+CACY,GACtBH,EAAII,iBAAiB,eAAgB,oBACrCJ,EAAIK,OAAS,WACX,GAAmB,MAAfL,EAAIM,OAAgB,CACtB,IAAIC,EAAO1B,KAAK2B,MAAMR,EAAIS,cACd,MAARF,GAA8B,MAAdA,EAAKI,OACvBvB,MAAM,kCAAoCf,EAAOkB,UACjDG,GAAa,GACbJ,GAAqB,KAErBX,QAAQC,IAAI2B,EAAKG,KAAO,KAAOH,EAAKI,OACpCC,aAAaC,QAAQ,UAAWN,EAAKI,OACrCrB,GAAqB,GACrBK,EAAQmB,KAAK,WAGf1B,MAAM,yBAA2Bf,EAAOkB,UACxCG,GAAa,GACbJ,GAAqB,IAGzB,IAAI0B,EAAOnC,KAAKC,UAAU,CAAE,SAAYT,EAAOkB,SAAU,aAAgBlB,EAAOyD,YAAa,MAASzD,EAAO0D,MAAO,SAAY1D,EAAOmB,SAAU,KAAQnB,EAAO2D,OAChKhC,EAAIiB,KAAKD,GACT,MAAOE,GACPnC,EAAQmC,GACRxB,GAAa,GACbJ,GAAqB,KAWnB,UACE,eAACO,EAAA,EAAKsB,MAAN,CAAYE,UAAU,WAAWD,KAAK,KAAtC,UACE,cAACvB,EAAA,EAAKyB,MAAN,uBACA,cAACzB,EAAA,EAAK0B,QAAN,CACEC,WAAS,EACTC,KAAK,OACL/C,MAAOL,EAAOkB,SACdmC,SAAUjC,OAGd,eAACI,EAAA,EAAKsB,MAAN,CAAYE,UAAU,cAAcD,KAAK,KAAzC,UACE,cAACvB,EAAA,EAAKyB,MAAN,2BACA,cAACzB,EAAA,EAAK0B,QAAN,CACEC,WAAS,EACTC,KAAK,OACL/C,MAAOL,EAAOyD,YACdJ,SAAUjC,OAGd,eAACI,EAAA,EAAKsB,MAAN,CAAYE,UAAU,QAAQD,KAAK,KAAnC,UACE,cAACvB,EAAA,EAAKyB,MAAN,oBACA,cAACzB,EAAA,EAAK0B,QAAN,CACEC,WAAS,EACTC,KAAK,QACL/C,MAAOL,EAAO0D,MACdL,SAAUjC,OAGd,eAACI,EAAA,EAAKsB,MAAN,CAAYE,UAAU,WAAWD,KAAK,KAAtC,UACE,cAACvB,EAAA,EAAKyB,MAAN,uBACA,cAACzB,EAAA,EAAK0B,QAAN,CACEE,KAAK,WACL/C,MAAOL,EAAOmB,SACdkC,SAAUjC,OAGd,eAACI,EAAA,EAAKsB,MAAN,CAAYE,UAAU,OAAtB,UACE,cAACxB,EAAA,EAAKyB,MAAN,mBACA,eAACzB,EAAA,EAAK0B,QAAN,CAAcU,GAAG,SAASP,SAAUjC,EAAmBf,MAAOL,EAAO2D,KAArE,UACE,wBAAQtD,MAAM,SAAd,oBACA,wBAAQA,MAAM,YAAd,uBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,QAAd,yBA1CN,oCA6CiC,mBAAGhB,KAAK,wCAAwCc,OAAO,MAAvD,kCA7CjC,IA8CA,cAAC,EAAD,CACImD,OAAK,EACLP,KAAK,KACLK,KAAK,SACLS,QAAQ,eACRrE,UAAWA,EACXC,WAxGNO,EAAOkB,SAASqC,OAAS,GACzBvD,EAAOyD,YAAYF,OAAS,GAC5BvD,EAAO0D,MAAMH,OAAS,GACtBvD,EAAOmB,SAASoC,OAAS,GA+FvB,+BAWA,mBAAG3E,MAAM,SAAT,SACE,cAAC,gBAAD,CAAeC,GAAG,SAAlB,SACE,cAACI,EAAA,EAAIC,KAAL,iD,MClIG,SAAS4E,IACpB,IAAMC,EAAOC,iBAAO,MACd1C,EAAUC,cAFuB,EAGTxB,mBAAS,eAHA,mBAGhCkE,EAHgC,KAGvBC,EAHuB,OAIfnE,mBAAS,IAJM,mBAIhCoE,EAJgC,KAI1BC,EAJ0B,OAKLrE,oBAAS,GALJ,mBAKhCP,EALgC,KAKrB6B,EALqB,OAMDtB,oBAAS,GANR,mBAMhCsE,EANgC,KAMnBC,EANmB,iDAiBvC,WAA4BpE,GAA5B,iBAAAqE,EAAA,yDACIrE,EAAMwB,mBACFqC,EAAKS,SAAWT,EAAKS,QAAQzB,KAAOjB,YAF5C,uBAGQf,MAAM,mCAAD,OACkCe,GADlC,SAHb,0BASI,GAAIiC,EAAKS,QACL,IACIF,GAAe,GAGX3C,EAAM,IAAIC,eACJE,+BACVH,EAAIE,KAAK,OADCC,gCACY,GACtBH,EAAII,iBAAiB,gBAAiB,UAAYQ,aAAakC,QAAQ,YACvE9C,EAAIK,OAAS,WACT,GAAmB,MAAfL,EAAIM,OAAgB,CACpB,IAAIC,EAAO1B,KAAK2B,MAAMR,EAAIS,cACd,MAARF,EACAnB,MAAM,uBACCmB,EAAKwC,QACZ3D,MAAMmB,EAAKwC,UAGXN,EAAQlC,EAAKyC,UACbrE,QAAQC,IAAI2B,SAGhBnB,MAAM,gBAAkBoD,EAAO,UAAYxC,EAAIM,QAEnDqC,GAAe,KAMfM,EAAW,IAAIC,UACVC,OAAO,OAAQf,EAAKS,QAAS,QACtC7C,EAAIiB,KAAKgC,GACX,MAAO/B,GACLnC,EAAQmC,GACRyB,GAAe,GA5C3B,4CAjBuC,kEAkEvC,WAA4BpE,GAA5B,iBAAAqE,EAAA,sDAEI,GADArE,EAAMwB,iBACFyC,EAAKZ,OAAS,EACd,IACIlC,GAAa,GAGTM,EAAM,IAAIC,eACJE,qCACVH,EAAIE,KAAK,OADCC,sCACY,GACtBH,EAAII,iBAAiB,eAAgB,oBACrCJ,EAAII,iBAAiB,gBAAiB,UAAYQ,aAAakC,QAAQ,YACvE9C,EAAIK,OAAS,WACT,GAAmB,MAAfL,EAAIM,OAAgB,CACpB,IAAIC,EAAO1B,KAAK2B,MAAMR,EAAIS,cACd,MAARF,GACAnB,MAAM,gBAAkBoD,GACxB9C,GAAa,IACNa,EAAK6C,WAAWxB,OAAS,GAChCxC,MAAMmB,EAAK6C,YACX1D,GAAa,KAEbf,QAAQC,IAAI2B,GAEZZ,EAAQmB,KAAK,QAAQP,EAAK8C,UAG9BjE,MAAM,gBAAkBoD,EAAO,UAAYxC,EAAIM,SAOnDU,EAAOnC,KAAKC,UAAU,CAAC,eAAkBwD,EAAS,UAAaE,IACnExC,EAAIiB,KAAKD,GACX,MAAOE,GACLnC,EAAQmC,GACRxB,GAAa,GAtCzB,4CAlEuC,sBA6GvC,OACI,qBAAK7C,UAAU,uBAAf,SACI,sBAAKA,UAAU,uBAAf,UAEA,gCACI,qBAAKA,UAAU,YAAYC,IAAKC,EAAWC,IAAI,cAC/C,oBAAIC,MAAM,SAAV,mCAEJ,8WAKA,eAAC4C,EAAA,EAAD,CAAMC,SA1HyB,4CA0H/B,UACI,eAACD,EAAA,EAAKsB,MAAN,CAAYE,UAAU,OAAtB,UACI,cAACxB,EAAA,EAAKyB,MAAN,uEACA,cAACzB,EAAA,EAAK0B,QAAN,CAAcG,SAhH9B,SAA0BnD,GACtB6D,EAAKS,QAAUtE,EAAMC,OAAO8E,MAAM,IA+GoB7B,KAAK,OAAO8B,OAAO,mCAC/CzF,UAAU,OAG5B,cAAC,EAAD,CACI6D,OAAK,EACLF,KAAK,SACLL,KAAK,KACLc,QAAQ,UACRrE,UAAW6E,EALf,uBAUJ,eAAC7C,EAAA,EAAD,CAAMC,SA3IyB,4CA2I/B,UACI,eAACD,EAAA,EAAKsB,MAAN,CAAYE,UAAU,UAAtB,UACI,eAACxB,EAAA,EAAKyB,MAAN,6BAA2B,mBAAG5D,KAAK,wBAAwBc,OAAO,MAAvC,oBAA3B,8BAEA,cAACqB,EAAA,EAAK0B,QAAN,CACI7C,MAAO8D,EACPf,KAAK,OACL+B,YAAY,YACZ9B,SAAU,SAACR,GAAD,OAAOuB,EAAQvB,EAAE1C,OAAOE,aAG1C,eAACmB,EAAA,EAAKsB,MAAN,CAAYE,UAAU,gBAAtB,UACI,cAACxB,EAAA,EAAKyB,MAAN,2CACA,eAACzB,EAAA,EAAK0B,QAAN,CAAcU,GAAG,SAASP,SAAU,SAACR,GAAD,OAAOqB,EAAWrB,EAAE1C,OAAOE,QAA/D,UACI,wBAAQA,MAAM,cAAd,6CACA,wBAAQA,MAAM,cAAd,gDACA,wBAAQA,MAAM,cAAd,kDACA,wBAAQA,MAAM,WAAd,uCACA,wBAAQA,MAAM,WAAd,kCACA,wBAAQA,MAAM,WAAd,oCACA,wBAAQA,MAAM,QAAd,yBACA,wBAAQA,MAAM,MAAd,gCACA,wBAAQA,MAAM,4BAAd,2BATJ,oBAaJ,cAAC,EAAD,CACIiD,OAAK,EACLF,KAAK,SACLL,KAAK,KACLc,QAAQ,UACRrE,UAAWA,EACXC,WAjKJ0E,EAAKZ,OAAS,GA2Jd,4B,MClKD,SAAS6B,IAAiB,IAAD,EAEAvF,EAAc,CAC9CwF,YAAa,GACbC,UAAW,GACXC,eAAgB,GAChBC,MAAO,GACPC,OAAQ,GACRC,cAAc,GACdC,iBAAiB,GACjBC,WAAW,GACXC,iBAAiB,GACjBC,aAAa,IAZmB,mBAE7B9F,EAF6B,KAErBoB,EAFqB,KAgB5BhB,GADK4D,iBAAO,MACL+B,cAAP3F,IACFkB,EAAUC,cAjBoB,EAkBMxB,mBAAS,MAlBf,mBAkB7BiG,EAlB6B,KAkBdC,EAlBc,KAoB7B1H,EAAmBL,IAAnBK,gBApB6B,EAqBFwB,oBAAS,GArBP,mBAqB7BP,EArB6B,KAqBlB6B,EArBkB,KAuHpC,SAAS6E,EAAkBC,GACvB,OAAO,IAAIC,SAAQ,SAAAC,GACf,IAGI,IAAI1E,EAAM,IAAIC,eACV0E,EAAMxE,qCAAmDqE,EAAS/F,GACtEE,QAAQC,IAAI+F,GACZ3E,EAAIE,KAAK,MAAOyE,GAAK,GACrB3E,EAAII,iBAAiB,eAAgB,oBACrCJ,EAAII,iBAAiB,gBAAiB,UAAYQ,aAAakC,QAAQ,YACvE9C,EAAIK,OAAS,WACT,GAAmB,MAAfL,EAAIM,OAAgB,CACpB,IAAIC,EAAO1B,KAAK2B,MAAMR,EAAIS,cACd,MAARF,EACAnB,MAAM,oCAENT,QAAQC,IAAI2B,GACZmE,EAAQnE,SAGZnB,MAAM,qBAAuBY,EAAIM,SAOzCN,EAAIiB,OACN,MAAOC,GACLnC,EAAQmC,OAKpB,SAAS0D,EAAarG,GAClBA,EAAMwB,iBACN,IAGI,IAAIC,EAAM,IAAIC,eAEdD,EAAIE,KAAK,OADCC,wCACY,GACtBH,EAAII,iBAAiB,eAAgB,oBACrCJ,EAAII,iBAAiB,gBAAiB,UAAYQ,aAAakC,QAAQ,YACvE9C,EAAIK,OAAS,WACT,GAAoB,MAAfL,EAAIM,OAAiB,CACtB,IAAIC,EAAO1B,KAAK2B,MAAMR,EAAIS,cAChB,MAANF,EACAnB,MAAM,kCAENT,QAAQC,IAAI,sBAAsB2B,GAElCZ,EAAQmB,KAAK,aAAa+D,SAAStE,EAAKuE,SAASzB,GAAG0B,kBAGxD3F,MAAM,mCAEVM,GAAa,IAEjB,IAAIsB,EAAOnC,KAAKC,UACZ,CAAC,KAAQT,EAAOqF,YAAa,kBAAqBrF,EAAO2F,iBACrD,YAAe3F,EAAO4F,WAAY,cAAiBY,SAASxG,EAAO8F,cACnE,SAAW9F,EAAO6F,iBAClB,iBAAqB,CACjB,UAAY7F,EAAOsF,UACnB,eAAiBtF,EAAOuF,eACxB,MAAQvF,EAAOwF,MACf,OAASxF,EAAOyF,QAEpB,UAAae,SAASpG,KAC9BE,QAAQC,IAAI,uBAAuBoC,GACnChB,EAAIiB,KAAKD,GACX,MAAOE,GACLnC,EAAQmC,GACRxB,GAAa,IA2IrB,OAzOAsF,qBAAU,WAAM,4CACZ,4BAAApC,EAAA,yDACIlD,GAAa,GACR9C,EAFT,0EAMoC2H,EAAkB,CAAC9F,OANvD,OAMc4F,EANd,OAOQ1F,QAAQC,IAAI,mBAAmByF,GAC/BC,EAAiBD,GARzB,kDAUQtF,EAAQ,EAAD,IAVf,QAYIW,GAAa,GAZjB,2DADY,uBAAC,WAAD,wBAeZuF,KACD,CAACrI,EAAgB6B,IA0NhB,qBAAK5B,UAAU,OAAf,SACKD,IAAoBiB,EAvIrB,qBAAKhB,UAAU,uBAAf,SACI,sBAAKA,UAAU,uBAAf,UACI,gCACI,qBAAKA,UAAU,YAAYC,IAAKC,EAAWC,IAAI,cAC/C,oBAAIC,MAAM,SAAV,4BACA,ySAKJ,eAAC4C,EAAA,EAAD,CAAMC,SAAU8E,EAAhB,UACI,eAAC/E,EAAA,EAAKsB,MAAN,CAAYE,UAAU,cAAcD,KAAK,KAAzC,UACI,cAACvB,EAAA,EAAKyB,MAAN,2BACA,cAACzB,EAAA,EAAK0B,QAAN,CACIC,WAAS,EACTC,KAAK,OACL/C,MAAOL,EAAOqF,YACdhC,SAAUjC,OAGlB,eAACI,EAAA,EAAKsB,MAAN,CAAYE,UAAU,gBAAtB,UACI,cAACxB,EAAA,EAAKyB,MAAN,yCACA,eAACzB,EAAA,EAAK0B,QAAN,CAAcU,GAAG,SAAUP,SAAUjC,EAAmBf,MAAOL,EAAO0F,cAAtE,UACI,wBAAQrF,MAAM,oBAAd,iDACA,wBAAQA,MAAM,oBAAd,8EAGR,eAACmB,EAAA,EAAKsB,MAAN,CAAYE,UAAU,eAAeD,KAAK,KAA1C,UACI,cAACvB,EAAA,EAAKyB,MAAN,4BACA,cAACzB,EAAA,EAAK0B,QAAN,CACIC,WAAS,EACTC,KAAK,SAAWyD,IAAK,EAAGC,IAAK,GAC7BzG,MAAOL,EAAO8F,aACdzC,SAAUjC,EACV3B,WAlNlBO,EAAO0F,cAAcqB,SAAS,YAiChC/G,EAAO2F,iBAAiB,+FACxB3F,EAAO4F,WAAW,sDAClB5F,EAAO6F,iBAAiB,GACxB7F,EAAO6F,iBAAiB,mxBA6BjB,IAhEP7F,EAAO8F,aAAa,EACpB9F,EAAO2F,iBAAiB,wEACxB3F,EAAO4F,WAAW,iBAClB5F,EAAO6F,iBAAiB,gsBA2BjB,SAsLK,eAACrE,EAAA,EAAKsB,MAAN,CAAYE,UAAU,YAAtB,UACI,cAACxB,EAAA,EAAKyB,MAAN,yBACA,cAACzB,EAAA,EAAK0B,QAAN,CACIC,WAAS,EACTC,KAAK,OACL/C,MAAOL,EAAOsF,UACdjC,SAAUjC,OAGlB,eAACI,EAAA,EAAKsB,MAAN,CAAYE,UAAU,iBAAtB,UACI,cAACxB,EAAA,EAAKyB,MAAN,8BACA,cAACzB,EAAA,EAAK0B,QAAN,CACIC,WAAS,EACTC,KAAK,OACL/C,MAAOL,EAAOuF,eACdlC,SAAUjC,OAGlB,eAACI,EAAA,EAAKsB,MAAN,CAAYE,UAAU,QAAtB,UACI,cAACxB,EAAA,EAAKyB,MAAN,oBACA,cAACzB,EAAA,EAAK0B,QAAN,CACIC,WAAS,EACTC,KAAK,OACL/C,MAAOL,EAAOwF,MACdnC,SAAUjC,OAGlB,eAACI,EAAA,EAAKsB,MAAN,CAAYE,UAAU,SAAtB,UACI,cAACxB,EAAA,EAAKyB,MAAN,qBACA,cAACzB,EAAA,EAAK0B,QAAN,CACIC,WAAS,EACTC,KAAK,OACL/C,MAAOL,EAAOyF,OACdpC,SAAUjC,OAGlB,eAACI,EAAA,EAAKsB,MAAN,CAAYE,UAAU,mBAAmBD,KAAK,KAA9C,UACI,cAACvB,EAAA,EAAKyB,MAAN,2DACA,cAACzB,EAAA,EAAK0B,QAAN,CACIC,WAAS,EACTC,KAAK,OACL/C,MAAOL,EAAO2F,iBACdtC,SAAUjC,EACV3B,UAAU,OAGlB,eAAC+B,EAAA,EAAKsB,MAAN,CAAYE,UAAU,aAAaD,KAAK,KAAxC,UACI,cAACvB,EAAA,EAAKyB,MAAN,oDACA,cAACzB,EAAA,EAAK0B,QAAN,CACIC,WAAS,EACTC,KAAK,OACL/C,MAAOL,EAAO4F,WACdvC,SAAUjC,EACV3B,UAAU,OAGlB,eAAC+B,EAAA,EAAKsB,MAAN,CAAYE,UAAU,mBAAmBD,KAAK,KAA9C,UAEI,cAACvB,EAAA,EAAKyB,MAAN,gCACA,cAACzB,EAAA,EAAK0B,QAAN,CACIC,WAAS,EACTS,GAAG,WACHR,KAAK,OACL4D,UAAU,OACV3G,MAAOL,EAAO6F,iBACdxC,SAAUjC,EACV3B,UAAU,OAGlB,cAAC,EAAD,CACI6D,OAAK,EACLF,KAAK,SACLL,KAAK,KACLc,QAAQ,UACRrE,UAAWA,EACXC,WAzNhBO,EAAOqF,YAAY9B,OAAS,GAC5BvD,EAAO8F,aAAe,GAkNV,mCAWJ,+MAGI,mBAAGzG,KAAK,2CAA2Cc,OAAO,MAA1D,oCAHJ,uBAKA,qBAAK3B,UAAU,gBAAf,SACD,uBAAMA,UAAU,mBAAhB,UACI,qBAAKA,UAAU,YAAYC,IAAG,UAAKqD,8BAAL,OAA2CkE,EAAciB,mBAAqBtI,IAAG,UAAK,IAAIuI,KAAKlB,EAAcmB,WAAWC,iBAAvC,YAA2DpB,EAAcqB,iBACxL,6BAAY7I,UAAU,mBAAtB,UAA0C,IAAI0I,KAAKlB,EAAcmB,WAAWC,iBAA5E,IAA+FpB,EAAcqB,2BAU/D,iDClVtD,SAASjJ,IAAQ,IAAD,EACiB2B,mBAAS,IAD1B,mBACpBuH,EADoB,KACJC,EADI,KAEpBhJ,EAAmBL,IAAnBK,gBAFoB,EAGOwB,oBAAS,GAHhB,mBAGpBP,EAHoB,KAGT6B,EAHS,KAsB3B,SAASmG,IACL,OAAO,IAAIpB,SAAQ,SAAAC,GACf,IAGI,IAAI1E,EAAM,IAAIC,eAEdD,EAAIE,KAAK,MADCC,sCACW,GACrBH,EAAII,iBAAiB,eAAgB,oBACrCJ,EAAII,iBAAiB,gBAAiB,UAAYQ,aAAakC,QAAQ,YACvE9C,EAAIK,OAAS,WACT,GAAmB,MAAfL,EAAIM,OAAgB,CACpB,IAAIC,EAAO1B,KAAK2B,MAAMR,EAAIS,cACd,MAARF,EACAnB,MAAM,oCAENT,QAAQC,IAAI2B,GACZmE,EAAQnE,SAGZnB,MAAM,qBAAuBY,EAAIM,SAOzCN,EAAIiB,OACN,MAAOC,GACLnC,EAAQmC,OAMpB,SAAS4E,EAAyBH,GAC9B,OACI,qCACKA,EAAeI,KAAI,SAAAC,GAAI,OACpB,cAAC,gBAAD,CAA6B9I,GAAE,eAAU8I,EAAK3C,IAA9C,SACI,cAAClG,EAAA,EAAUC,KAAX,CAAgBC,QAAM,EAAtB,SACI,uBAAMR,UAAU,mBAAhB,UACE,qBAAKA,UAAU,YAAYC,IAAG,UAAKqD,8BAAL,OAA2C6F,EAAKV,mBAAqBtI,IAAG,UAAK,IAAIuI,KAAKS,EAAKR,WAAWC,iBAA9B,YAAkDO,EAAKN,iBAC7J,6BAAY7I,UAAU,mBAAtB,UAA0C,IAAI0I,KAAKS,EAAKR,WAAWC,iBAAnE,IAAsFO,EAAKN,uBAJjFM,EAAK3C,OAS7B,cAAC,gBAAD,CAAenG,GAAG,YAAlB,SACI,cAACC,EAAA,EAAUC,KAAX,CAAgBC,QAAM,EAACR,UAAU,iCAAjC,SACI,sBAAMA,UAAU,wBAAhB,qCA6BpB,OAjGAmI,qBAAU,WAAM,4CACZ,8BAAApC,EAAA,yDACIlD,GAAa,GACR9C,EAFT,0EAMqCiJ,IANrC,OAMcF,EANd,OAOcM,EAAwBN,EAAeO,QAAQ,SAAA7B,GAAa,OAAwC,GAAnCA,EAAcjB,WAAWxB,UAChGgE,EAAkBK,GAR1B,kDAUQlH,EAAQ,EAAD,IAVf,QAYIW,GAAa,GAZjB,2DADY,uBAAC,WAAD,wBAeZuF,KACD,CAACrI,IAkFA,qBAAKC,UAAU,OAAf,SACKD,EAtBD,sBAAKC,UAAU,iBAAf,UACI,gCACI,qBAAKA,UAAU,YAAYC,IAAKC,EAAWC,IAAI,cAC/C,oBAAIC,MAAM,SAAV,8BAEJ,cAACE,EAAA,EAAD,WAAaU,GAAaiI,EAAyBH,QAOvD,qBAAK9I,UAAU,OAAf,SACI,cAAC,gBAAD,CAAeK,GAAG,SAAlB,SACI,cAACI,EAAA,EAAIC,KAAL,2B,MC9FL,SAAS4I,IAEpB,IAAMxG,EAAUC,cAFqB,EAGKxB,mBAAS,MAHd,mBAG9BgI,EAH8B,KAGfC,EAHe,KAI7B5H,EAAO2F,cAAP3F,GACD7B,EAAmBL,IAAnBK,gBAL8B,EAMHwB,oBAAS,GANN,mBAM9BP,EAN8B,KAMnB6B,EANmB,OAOiBtB,oBAAS,GAP1B,mBAO9BkI,EAP8B,KAOTC,EAPS,OAQSnI,oBAAS,GARlB,mBAQ9BoI,EAR8B,KAQbC,EARa,OASSrI,oBAAS,GATlB,mBAS9BsI,EAT8B,KASbC,EATa,KAmCrC,SAASC,EAAkBC,GACvB,OAAO,IAAIpC,SAAQ,SAAAC,GACf,IAGI,IAAI1E,EAAM,IAAIC,eACV0E,EAAMxE,uCAAqD0G,EAAgBpI,GAC/EE,QAAQC,IAAI+F,GACZ3E,EAAIE,KAAK,MAAOyE,GAAK,GACrB3E,EAAII,iBAAiB,eAAgB,oBACrCJ,EAAII,iBAAiB,gBAAiB,UAAYQ,aAAakC,QAAQ,YACvE9C,EAAIK,OAAS,WACT,GAAmB,MAAfL,EAAIM,OAAgB,CACpB,IAAIC,EAAO1B,KAAK2B,MAAMR,EAAIS,cACd,MAARF,EACAnB,MAAM,sCAENT,QAAQC,IAAI2B,GACZmE,EAAQnE,SAGZnB,MAAM,uBAAyBY,EAAIM,SAO3CN,EAAIiB,OACN,MAAOC,GACLnC,EAAQmC,OAKpB,SAAS0D,EAAarG,GAClBA,EAAMwB,iBACN,IACIL,GAAa,GAGb,IAAIM,EAAM,IAAIC,eAEdD,EAAIE,KAAK,OADCC,4CACY,GACtBH,EAAII,iBAAiB,eAAgB,oBACrCJ,EAAII,iBAAiB,gBAAiB,UAAYQ,aAAakC,QAAQ,YACvE9C,EAAIK,OAAS,WACT,GAAmB,MAAfL,EAAIM,OAAgB,CACpB,IAAIC,EAAO1B,KAAK2B,MAAMR,EAAIS,cACd,MAARF,GACAnB,MAAM,eAAiBgH,EAAcU,YACrCpH,GAAa,KAEbf,QAAQC,IAAI2B,GAGZZ,EAAQmB,KAAK,eAAesF,EAAcU,kBAG9C1H,MAAM,eAAiBgH,EAAcU,WAAa,UAAY9G,EAAIM,SAO1E,IAAIU,EAAOnC,KAAKC,UAAU,CAAC,gBAAoBsH,EAAc/C,GAAI,UAAa+C,EAAcU,aAC5F9G,EAAIiB,KAAKD,GACX,MAAOE,GACLnC,EAAQmC,GACRxB,GAAa,IAuDrB,OA/IAsF,qBAAU,WAAM,4CACZ,4BAAApC,EAAA,yDACIlD,GAAa,GACR9C,EAFT,0EAMoCgK,EAAkB,CAACnI,OANvD,OAMc2H,EANd,OAOQzH,QAAQC,IAAI,mBAAmBwH,GAC/BC,EAAiBD,GARzB,kDAUQrH,EAAQ,EAAD,IAVf,QAYIW,GAAa,GAZjB,2DADY,uBAAC,WAAD,wBAeZuF,KACD,CAACrI,EAAiB6B,IAgIjB,qBAAK5B,UAAU,OAAf,SACKD,IAAoBiB,EAnDrB,qBAAKhB,UAAU,uBAAf,SACI,sBAAKA,UAAU,uBAAf,UAEA,gCACI,qBAAKA,UAAU,YAAYC,IAAKC,EAAWC,IAAI,cAC/C,oBAAIC,MAAM,SAAV,oCAEJ,sEACyC,mBAAGS,KAAI,UAAKyC,wBAAL,qBAAoDiG,EAAcU,YAActI,OAAO,MAA9F,kCADzC,oJAIA,8BACI,wBACIhB,MAAO,CAAEqG,MAAO,OAAQC,OAAQ,SAChChH,IAAG,UAAKqD,wBAAL,qBAAoDiG,EAAcU,YACrEC,MAAM,YAGd,eAAClH,EAAA,EAAD,CAAMC,SAAU8E,EAAhB,UACI,cAAC/E,EAAA,EAAKsB,MAAN,CAAYE,UAAU,uBAAtB,SACI,cAACxB,EAAA,EAAKmH,MAAN,CAAYvF,KAAK,WAAW/C,MAAO4H,EAAqB5E,SAAU,SAACR,GAAD,OAAOqF,EAAuBrF,EAAE1C,OAAOE,QAAUuI,MAAM,wCAE7H,cAACpH,EAAA,EAAKsB,MAAN,CAAYE,UAAU,mBAAtB,SACI,cAACxB,EAAA,EAAKmH,MAAN,CAAavF,KAAK,WAAW/C,MAAO8H,EAAiB9E,SAAU,SAACR,GAAD,OAAOuF,EAAmBvF,EAAE1C,OAAOE,QAAQuI,MAAM,qCAEpH,cAACpH,EAAA,EAAKsB,MAAN,CAAYE,UAAU,mBAAtB,SACI,cAACxB,EAAA,EAAKmH,MAAN,CAAYvF,KAAK,WAAW/C,MAAOgI,EAAiBhF,SAAU,SAACR,GAAD,OAAOyF,EAAmBzF,EAAE1C,OAAOE,QAAQuI,MAAM,qCAEnH,cAAC,EAAD,CACItF,OAAK,EACLF,KAAK,SACLL,KAAK,KACLc,QAAQ,UACRrE,UAAWA,EACXC,WApIZwI,GAAuBE,GAAmBE,GA8HlC,uBAWJ,yMAEqE,mBAAGhJ,KAAK,0CAA0Cc,OAAO,MAAzD,uBAFrE,yBAGI,mBAAGd,KAAK,2CAA2Cc,OAAO,MAA1D,oCAHJ,4BAYqD,iD,kBCpKtD,SAAS0I,IAEpB,IAAMvH,EAAUC,cACRuH,EAAS/C,cAAT+C,KAHkC,EAIV/I,mBAAS,MAJC,mBAInCgJ,EAJmC,KAIzBC,EAJyB,KAKnCzK,EAAmBL,IAAnBK,gBALmC,EAMRwB,oBAAS,GAND,mBAMnCP,EANmC,KAMxB6B,EANwB,KA2B1C,SAAS4H,EAAaC,GAClB,OAAO,IAAI9C,SAAQ,SAAAC,GACf,IAGI,IAAI1E,EAAM,IAAIC,eACV0E,EAAMxE,gDAA8DoH,EAAQJ,KAChFxI,QAAQC,IAAI+F,GACZ3E,EAAIE,KAAK,MAAOyE,GAAK,GACrB3E,EAAII,iBAAiB,eAAgB,oBACrCJ,EAAII,iBAAiB,gBAAiB,UAAYQ,aAAakC,QAAQ,YACvE9C,EAAIK,OAAS,WACT,GAAmB,MAAfL,EAAIM,OAAgB,CACpB,IAAIC,EAAO1B,KAAK2B,MAAMR,EAAIS,cACd,MAARF,EACAnB,MAAM,sCAENT,QAAQC,IAAI2B,GACZmE,EAAQnE,SAGZnB,MAAM,uBAAyBY,EAAIM,SAO3CN,EAAIiB,OACN,MAAOC,GACLnC,EAAQmC,OAKpB,SAASsG,EAAYC,EAAOC,EAAgBC,GACxC,IAGI,IAAI3H,EAAM,IAAIC,eAEdD,EAAIE,KAAK,OADCC,+CACY,GACtBH,EAAII,iBAAiB,eAAgB,oBACrCJ,EAAII,iBAAiB,gBAAiB,UAAYQ,aAAakC,QAAQ,YACvE9C,EAAIK,OAAS,WACT,GAAoB,MAAfL,EAAIM,OAAiB,CACtB,IAAIC,EAAO1B,KAAK2B,MAAMR,EAAIS,cAChB,MAANF,EACAnB,MAAM,sBAENT,QAAQC,IAAI,oBAAoB2B,QAIpCnB,MAAM,0BAEVM,GAAa,GAGbC,EAAQmB,KAAK,iBAAiBsG,EAASQ,MAAMC,YAEjD,IAAIC,EAAcjJ,KAAKC,UAAU6I,GAC7B3G,EAAOnC,KAAKC,UACZ,CAAC,UAAasI,EAASQ,MAAMC,UAAW,MAASJ,EAAO,OAAUC,EAAgB,cAAiBI,IACvGnJ,QAAQC,IAAI,0BAA0BoC,GACtChB,EAAIiB,KAAKD,GACX,MAAOE,GACLnC,EAAQmC,IAKhB,SAAS6G,EAAe/G,EAAMgH,GAE1B,OADArJ,QAAQC,IAAI,uBACLoJ,EAAQC,MAAMC,OAAO,CACxBC,oBAAsB,CAClBC,oBAAqB,eAEzBC,eAAgB,CACZ,CACI,aAAiBjB,EAASQ,MAAMC,UAEhC,OAAS,CAAC,cAAgBT,EAASkB,QAAQC,IAAI,MAAQnB,EAASkB,QAAQE,cAKxF,SAASC,EAAYzH,EAAMgH,GAEvB,OADArJ,QAAQC,IAAI,uBACLoJ,EAAQC,MAAMC,OAAO,CACvBC,oBAAsB,CAGnBC,oBAAqB,iBAEzBC,eAAgB,CACZ,CACI,aAAiBjB,EAASQ,MAAMC,UAEhC,OAAS,CAAC,cAAgBT,EAASkB,QAAQC,IAAI,MAAQnB,EAASkB,QAAQI,WAKxF,SAASC,EAAc3H,EAAMgH,GACzB,OAAOA,EAAQC,MAAMW,UAAUC,MAAK,SAASlB,GACzChJ,QAAQC,IAAI,4BAA8B+I,EAAQmB,MAAMC,KAAKC,WAAa,KAC1ErK,QAAQC,IAAI,cAAcC,KAAKC,UAAU6I,IAOnB,aAAlBA,EAAQrH,OACRkH,GAAY,GAAK,EAAKG,GAEtBH,GAAY,GAAK,EAAMG,MAKnC,SAASsB,EAAWjI,EAAMgH,GACtB,OAAOA,EAAQC,MAAMW,UAAUC,MAAK,SAASlB,GACzChJ,QAAQC,IAAI,4BAA8B+I,EAAQmB,MAAMC,KAAKC,WAAa,KAC1ErK,QAAQC,IAAI,cAAcC,KAAKC,UAAU6I,IAOnB,aAAlBA,EAAQrH,OACRkH,GAAY,GAAM,EAAKG,GAEvBH,GAAY,GAAM,EAAMG,MAKpC,SAASuB,EAAWC,GAChBxK,QAAQC,IAAI,iCAAiCuK,GAC7C/J,MAAM,iCAAiC+J,GACvC3B,GAAY,GAAK,EAAM2B,GAG3B,SAASpK,EAAQoK,GACbxK,QAAQC,IAAI,4BAA4BuK,GACxC/J,MAAM,4BAA4B+J,GAClC3B,GAAY,GAAM,EAAM2B,GAkF5B,OA1PAnE,qBAAU,WAAM,4CACZ,4BAAApC,EAAA,yDACIlD,GAAa,GACR9C,EAFT,0EAM+B0K,EAAa,CAACH,SAN7C,OAMcC,EANd,OAOQzI,QAAQC,IAAI,cAAcwI,GAC1BC,EAAYD,GARpB,kDAUQrI,EAAQ,EAAD,IAVf,QAYIW,GAAa,GAZjB,2DADY,uBAAC,WAAD,wBAeZuF,KACD,CAACrI,EAAgBuK,IA2OhB,qBAAKtK,UAAU,OAAf,SACKD,IAAoBiB,EA/ErB,qBAAKhB,UAAU,uBAAf,SACI,sBAAKA,UAAU,uBAAf,UACA,gCACI,qBAAKA,UAAU,YAAYC,IAAKC,EAAWC,IAAI,cAC/C,oBAAIC,MAAM,SAAV,kCACA,iGACoE,mBAAGS,KAAK,4CAA4Cc,OAAO,MAA3D,0BADpE,0LAKA,qBAAK3B,UAAU,eAAeuM,wBAAyB,CAAEC,OAAQjC,EAASkC,YAAYC,uBAE1F,kDACA,wPAGA,+CACA,mLAGA,gDACoBnC,EAASkB,QAAQkB,UADrC,QACqDpC,EAASkB,QAAQkB,UADtE,uBAGA,yCACapC,EAASkB,QAAQkB,UAD9B,IAC0CpC,EAASkB,QAAQI,MAD3D,IACmEtB,EAASkB,QAAQC,IADpF,IAC0FpI,mEAE1F,cAAC,IAAD,CAAsBsJ,QAAS,CAC3B,YAAatJ,mFACb,SAAaiH,EAASkB,QAAQC,KAFlC,SAII,cAAC,IAAD,eACQ,CACA/K,MAAO,CAAEkM,MAAO,QAChBjB,YAAcA,EACdQ,UAAWA,EACXlK,QAAUA,OAItB,qJAGA,mEACA,qaAMA,gFACoDqI,EAASkB,QAAQkB,UADrE,6CAC0HpC,EAASkB,QAAQkB,UAD3I,QAC2JpC,EAASkB,QAAQkB,UAD5K,uBAGA,yCACapC,EAASkB,QAAQkB,UAD9B,IAC0CpC,EAASkB,QAAQE,SAD3D,IACsEpB,EAASkB,QAAQC,IADvF,IAC6FpI,mEAE7F,cAAC,IAAD,CAAsBsJ,QAAS,CAC3B,YAAatJ,mFACb,SAAaiH,EAASkB,QAAQC,KAFlC,SAII,cAAC,IAAD,eACQ,CACA/K,MAAO,CAAEkM,MAAO,QAChBjB,YAAcV,EACdkB,UAAWN,EACX5J,QAAUmK,OAItB,+DAW6C,iD,MChQ9C,SAASS,IAAsB,IAAD,EACnBvL,mBAAS,MADU,mBAClCwL,EADkC,KAC7BC,EAD6B,KAGjC1C,GADQvH,cACCwE,cAAT+C,MAHiC,EAIT/I,mBAAS,MAJA,mBAIlCgJ,EAJkC,KAIxBC,EAJwB,KAKlCzK,EAAmBL,IAAnBK,gBALkC,EAMPwB,oBAAS,GANF,mBAMlCP,EANkC,KAMvB6B,EANuB,KA2BzC,SAASoK,IACL,MAAwC,oBAAjC1C,EAASQ,MAAMmC,iBAG1B,SAASnF,EAAarG,GAClBI,QAAQC,IAAI,iBACZL,EAAMwB,iBACNpB,QAAQC,IAAI,iBACwB,oBAAjCwI,EAASQ,MAAMmC,mBACdpL,QAAQC,IAAI,iBACZiL,EAAQ,GAAGG,KAAKC,WAIxB,SAAS3C,EAAaC,GAClB,OAAO,IAAI9C,SAAQ,SAAAC,GACf,IAGI,IAAI1E,EAAM,IAAIC,eACV0E,EAAMxE,gDAA8DoH,EAAQJ,KAChFxI,QAAQC,IAAI+F,GACZ3E,EAAIE,KAAK,MAAOyE,GAAK,GACrB3E,EAAII,iBAAiB,eAAgB,oBACrCJ,EAAII,iBAAiB,gBAAiB,UAAYQ,aAAakC,QAAQ,YACvE9C,EAAIK,OAAS,WACT,GAAmB,MAAfL,EAAIM,OAAgB,CACpB,IAAIC,EAAO1B,KAAK2B,MAAMR,EAAIS,cACd,MAARF,EACAnB,MAAM,sCAENT,QAAQC,IAAI2B,GACZmE,EAAQnE,SAGZnB,MAAM,uBAAyBY,EAAIM,SAO3CN,EAAIiB,OACN,MAAOC,GACLnC,EAAQmC,OAwCpB,OAvGA8D,qBAAU,WAAM,4CACZ,4BAAApC,EAAA,yDACIlD,GAAa,GACR9C,EAFT,0EAM+B0K,EAAa,CAACH,SAN7C,OAMcC,EANd,OAOQzI,QAAQC,IAAI,cAAcwI,GAC1BC,EAAYD,GARpB,kDAUQrI,EAAQ,EAAD,IAVf,QAYIW,GAAa,GAZjB,2DADY,uBAAC,WAAD,wBAeZuF,KACD,CAACrI,EAAgBuK,EAAMyC,IAwFtB,qBAAK/M,UAAU,OAAf,SACKD,IAAoBiB,EAnCrB,qBAAKhB,UAAU,uBAAf,SACI,sBAAKA,UAAU,uBAAf,UACI,gCACI,qBAAKA,UAAU,YAAYC,IAAKC,EAAWC,IAAI,cAC/C,oBAAIC,MAAM,SAAV,oCAEJ,6CACA,iEACqCmK,EAASQ,MAAMmC,iBADpD,IAEuC,oBAAjC3C,EAASQ,MAAMmC,iBAAuC,2CAAa,mBAAGrM,KAAI,UAAKyC,wBAAL,eAA8CiH,EAASQ,MAAMC,UAA7D,YAA0ET,EAASQ,MAAMsC,WAAhG,SAA8G9C,EAASQ,MAAMsC,YAA1I,OAAgK,4DAA+B9C,EAASQ,MAAMuC,kBAA9C,WAE5N,+DACmC/C,EAASQ,MAAMwC,kBAElD,8DACkChD,EAASQ,MAAMyC,iBAEjD,cAACxK,EAAA,EAAD,CAAMC,SAAU8E,EAAhB,SACI,cAAC,EAAD,CACIjD,OAAK,EACLP,KAAK,KACLK,KAAK,SACL5D,UAAWA,EACXC,SAAUgM,IALd,SAOMA,IAAsC,aAArB,4BAUc,iDChH9C,SAASQ,IACtB,OACE,eAAC,IAAD,WACF,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAlB,SACC,cAAC,EAAD,MAED,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,SAAlB,SACC,cAACnL,EAAD,MAED,cAAC,IAAD,CAAOkL,OAAK,EAACC,KAAK,UAAlB,SACE,cAAC3I,EAAD,MAEF,cAAC,IAAD,CAAO0I,OAAK,EAACC,KAAK,WAAlB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,WAAlB,SACC,cAAC,EAAD,MAED,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,OAAlB,SACC,cAAC,EAAD,MAED,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,gBAAlB,SACC,cAAC,EAAD,MAED,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,oBAAlB,SACC,cAAC,EAAD,MAED,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,sBAAlB,SACC,cAAC,EAAD,MAGD,cAAC,IAAD,UACE,cAAC,EAAD,SC1CJ,IAsBeC,EAtBC,WAAO,IACXC,EAAS/N,cAAT+N,KADU,EAEMtM,qBAFN,mBAEXuM,EAFW,KAELC,EAFK,KAUlB,OACI,8BACI,8BACI,yBAAQlM,MAAOiM,EAAM5B,KAAK,WAAWrH,SAT5B,SAACnD,GAClB,IAAIsM,EAAWtM,EAAMC,OAAOE,MAC5BkM,EAAQC,GACRH,EAAKI,eAAeD,IAMZ,UACI,wBAAQnM,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,wBCwELqM,MA7Ef,WAAgB,IAAD,EACkC3M,oBAAS,GAD3C,mBACPxB,EADO,KACU0C,EADV,OAEkClB,oBAAS,GAF3C,mBAEW4M,GAFX,WAGRrL,EAAUC,cACRlD,EAAMC,cAAND,EAJM,4CAUd,sBAAAkG,EAAA,sDACC,IACKhC,aAAakC,QAAQ,YAExBxD,GAAqB,GAGvB,MAAO4B,GACI,oBAANA,GACHnC,EAAQmC,GAGV8J,GAAoB,GAZrB,4CAVc,sBAkCd,OA5BAhG,qBAAU,YANI,mCAObC,KACE,IA2BF,sBAAKpI,UAAU,WAAf,UACC,sBAAKA,UAAU,YAAf,UACC,kCACEH,EAAE,uBADJ,KAED,oBAAGgB,KAAK,2CAA2Cc,OAAO,MAA1D,cAAkE9B,EAAE,wBAApE,OAFC,eAIUyD,2BAEV,eAAC8K,EAAA,EAAD,CAAQC,kBAAgB,EAACC,GAAG,QAAQC,OAAO,KAAKvO,UAAU,OAA1D,UACC,cAAC,gBAAD,CAAeK,GAAG,IAAlB,SACC,cAAC+N,EAAA,EAAOI,MAAR,CAAcxO,UAAU,8BAAxB,SACC,qBAAKA,UAAU,OAAOC,IAAKwO,EAAMtO,IAAI,OAAO6G,MAAM,cAGpD,cAACoH,EAAA,EAAOM,OAAR,IACA,eAACN,EAAA,EAAOO,SAAR,CAAiB3O,UAAU,sBAA3B,UACC,cAACS,EAAA,EAAD,CAAKmO,UAAWC,OAAOC,SAASC,SAAhC,SACEhP,EACA,cAACU,EAAA,EAAIC,KAAL,CAAUsO,QA5BjB,WAECjL,aAAakL,WAAW,WACxBlL,aAAamL,QACbzM,GAAqB,GACrB0L,GAAoB,GACpBrL,EAAQmB,KAAK,WAsBP,SAAkCpE,EAAE,mBAEnC,qCACC,cAAC,gBAAD,CAAeQ,GAAG,UAAlB,SACC,cAACI,EAAA,EAAIC,KAAL,UAAWb,EAAE,qBAEd,cAAC,gBAAD,CAAeQ,GAAG,SAAlB,SACC,cAACI,EAAA,EAAIC,KAAL,UAAWb,EAAE,oBAEd,mBAAGgB,KAAM,mCAAoCsO,MAAO,WAApD,SACEtP,EAAE,sBAbT,IAiBQ,cAAC,EAAD,aAIV,cAACL,EAAW4P,SAAZ,CAAqBvN,MAAO,CAAE9B,kBAAiB0C,wBAA/C,SACC,cAACgL,EAAD,UCzEW4B,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBvD,MAAK,YAAkD,IAA/CwD,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,gCCERO,EAAY,CACdC,GAAI,CACAC,Y,OAEJC,GAAI,CACAD,Y,QAIRlC,IACKoC,IAAIC,KACJD,IAAIE,KACJC,KAAK,CACFP,YACAQ,IAjBc,KAmBdC,aAAc,IAEdC,cAAe,CACXC,aAAa,KAIV3C,EAAf,ECxBA4C,IAASC,OACP,cAAC,IAAMC,WAAP,UACD,cAAC,gBAAD,UACK,cAAC,EAAD,QAGJC,SAASC,eAAe,SAM1BxB,M","file":"static/js/main.e429272e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.8f8028b5.svg\";","import { useContext, createContext } from \"react\";\n\nexport const AppContext = createContext(null);\n\nexport function useAppContext() {\n  return useContext(AppContext);\n}","export default __webpack_public_path__ + \"static/media/embossing.90c19514.svg\";","import React, { useEffect, useState } from \"react\";\r\nimport \"./Forms.css\"\r\nimport \"./Home.css\";\r\nimport ListGroup from \"react-bootstrap/ListGroup\";\r\nimport { useAppContext } from \"../libs/contextLib\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport embossing from \"../embossing.svg\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\n\r\nexport default function Home() {\r\n    const { t } = useTranslation();\r\n    const { isAuthenticated } = useAppContext();\r\n\r\n    function renderNewCertificateChoice() {\r\n        return (\r\n            <LinkContainer to=\"/cert/new\">\r\n                <ListGroup.Item action className=\"py-3 text-nowrap text-truncate\">\r\n                    <span className=\"ml-2 font-weight-bold\">Create Certificate</span>\r\n                </ListGroup.Item>\r\n            </LinkContainer>\r\n        )\r\n    }\r\n\r\n    function renderOrderCertificateChoice() {\r\n        return (\r\n            <LinkContainer to=\"/cert/order\">\r\n                <ListGroup.Item action className=\"py-3 text-nowrap text-truncate\">\r\n                    <span className=\"ml-2 font-weight-bold\">Order Certificate</span>\r\n                </ListGroup.Item>\r\n            </LinkContainer>\r\n        )\r\n    }\r\n\r\n    function renderUploadNewArtworkChoice() {\r\n        return (\r\n            <LinkContainer to=\"/src/new/\">\r\n                <ListGroup.Item action className=\"py-3 text-nowrap text-truncate\">\r\n                    <span className=\"ml-2 font-weight-bold\">Upload new Artwork</span>\r\n                </ListGroup.Item>\r\n            </LinkContainer>\r\n        )\r\n    }\r\n\r\n    function renderListArtworksChoice() {\r\n        return (\r\n            <LinkContainer to=\"/src\">\r\n                <ListGroup.Item action className=\"py-3 text-nowrap text-truncate\">\r\n                    <span className=\"ml-2 font-weight-bold\">Your Artworks</span>\r\n                </ListGroup.Item>\r\n            </LinkContainer>\r\n        )\r\n    }\r\n\r\n    function renderMainChoices() {\r\n        return (\r\n            <div className=\"form-container-outer\">\r\n                <div className=\"form-container-inner\">\r\n                    <div className=\"artworkSources\">\r\n                    <div>\r\n                        <img className=\"embossing\" src={embossing} alt=\"embossing\" />\r\n                        <h2 align=\"center\">WELCOME!</h2>\r\n                    </div>\r\n                    {renderUploadNewArtworkChoice()}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    function renderLander() {\r\n        return (\r\n            <div className=\"Home\">\r\n                <div className=\"lander\">\r\n                    <h1>UNCOPIED.ART</h1>\r\n                    <p className=\"text-muted\">\r\n                        {t('home.mission-statement')}\r\n                    </p>\r\n                    <LinkContainer to=\"/signup\">\r\n                        <Nav.Link>{t('common.signup')}</Nav.Link>\r\n                    </LinkContainer>\r\n                </div>\r\n                <div className=\"benefits\">\r\n                    <h2>{t('home.for-you')}</h2>\r\n                    <h4>{t('home.for-artists')}</h4>\r\n                    <p>\r\n                        {t('home.for-artists-statement')}\r\n                    </p>\r\n                    <h4>{t('home.for-collectors')}</h4>\r\n                    <p>\r\n                        {t('home.for-collectors-statement')}\r\n                    </p>\r\n                    <h4>{t('home.for-museums')}</h4>\r\n                    <p>\r\n                        {t('home.for-museums-statement')}\r\n                    </p>\r\n                </div>\r\n                <div className=\"benefits\">\r\n                    <h2>{t('home.how-it-works')}</h2>\r\n                    <p>\r\n                        {t('home.how-it-works-desc')}\r\n                    </p>\r\n                    <i className=\"fal fa-user-plus mb-5\" style={{ fontSize: 50 }}></i>\r\n                    <h4>{t('home.how-it-works-1')}</h4>\r\n                    <p>\r\n                        {t('home.how-it-works-1-more')}\r\n                    </p>\r\n                    <i className=\"fal fa-image mb-5\" style={{ fontSize: 50 }}></i>\r\n                    <h4>{t('home.how-it-works-2')}</h4>\r\n                    <p>\r\n                        {t('home.how-it-works-2-more')}\r\n                    </p>\r\n                    <i className=\"fal fa-file-code mb-5\" style={{ fontSize: 50 }}></i>\r\n                    <h4>{t('home.how-it-works-3')}</h4>\r\n                    <p>\r\n                        {t('home.how-it-works-3-more')}\r\n                    </p>\r\n                    <i className=\"fal fa-gem mb-5\" style={{ fontSize: 50 }}></i>\r\n                    <h4>{t('home.how-it-works-4')}</h4>\r\n                    <p>\r\n                        {t('home.how-it-works-4-more')}\r\n                    </p>\r\n                    <i className=\"fal fa-file-signature mb-5\" style={{ fontSize: 50 }}></i>\r\n                    <h4>{t('home.how-it-works-5')}</h4>\r\n                    <p>\r\n                        {t('home.how-it-works-5-more')}\r\n                    </p>\r\n                </div>\r\n                <div className=\"benefits\">\r\n                    <h2>{t('home.certificate')}</h2>\r\n                    <p>\r\n                        {t('home.certificate-desc')}\r\n                        <a href=\"https://uncopied.github.io/blog/post/chapter-1/\">{t('home.certificate-action')}</a>\r\n                    </p>\r\n                </div>\r\n                <div className=\"benefits\">\r\n                    <h2>{t('home.about')}</h2>\r\n                    <p>\r\n                        {t('home.about-desc')}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"Home\">\r\n            {isAuthenticated ? renderMainChoices() : renderLander()}\r\n        </div>\r\n    );\r\n}","import React from \"react\";\nimport \"./NotFound.css\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"NotFound text-center\">\n      <h3>Sorry, page not found!</h3>\n    </div>\n  );\n}","import React from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport { BsArrowRepeat } from \"react-icons/bs\";\nimport \"./LoaderButton.css\";\n\nexport default function LoaderButton({\n  isLoading,\n  className = \"\",\n  disabled = false,\n  ...props\n}) {\n  return (\n    <Button\n      disabled={disabled || isLoading}\n      className={`LoaderButton ${className}`}\n      {...props}\n    >\n      {isLoading && <BsArrowRepeat className=\"spinning\" />}\n      {props.children}\n    </Button>\n  );\n}","import { useState } from \"react\";\n\nexport function useFormFields(initialState) {\n  const [fields, setValues] = useState(initialState);\n\n  return [\n    fields,\n    function(event) {\n      setValues({\n        ...fields,\n        [event.target.id]: event.target.value\n      });\n      console.log(\"fields = \"+JSON.stringify(fields))\n    }\n  ];\n}","export function onError(error) {\n  let message = error.toString();\n\n  // Auth errors\n  if (!(error instanceof Error) && error.message) {\n    message = error.message;\n  }\n\n  alert(message);\n}","import React, { useState } from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\n// import Button from \"react-bootstrap/Button\";\r\nimport \"./Forms.css\";\r\nimport LoaderButton from \"./LoaderButton\";\r\nimport { useAppContext } from \"../libs/contextLib\";\r\nimport { useFormFields } from \"../libs/hooksLib\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { onError } from \"../libs/errorLib\";\r\n\r\nimport embossing from \"../embossing.svg\";\r\n\r\nexport default function Login() {\r\n\tconst { userHasAuthenticated } = useAppContext();\r\n\tconst [fields, handleFieldChange] = useFormFields({\r\n\t\tusername: \"\",\r\n\t\tpassword: \"\"\r\n\t});\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\tconst history = useHistory();\r\n\r\n\tfunction validateForm() {\r\n\t\treturn fields.username.length > 0 && fields.password.length > 0;\r\n\t}\r\n\r\n\tfunction handleSubmit(event) {\r\n\t\tevent.preventDefault();\r\n\t\ttry {\r\n\t\t\tsetIsLoading(true);\r\n\t\t\t// Sending and receiving data in JSON format using POST method\r\n\t\t\t//\r\n\t\t\tvar xhr = new XMLHttpRequest();\r\n\r\n\t\t\tvar url = process.env.REACT_APP_UNCOPIED_API + \"api/v1.0/auth/login\";\r\n\t\t\txhr.open(\"POST\", url, true);\r\n\t\t\txhr.setRequestHeader(\"Content-Type\", \"application/json\");\r\n\t\t\txhr.onload = function () {\r\n\t\t\t\tif (xhr.status === 200) {\r\n\t\t\t\t\tvar json = JSON.parse(xhr.responseText);\r\n\t\t\t\t\tconsole.log(json.user + \", \" + json.token);\r\n\t\t\t\t\tlocalStorage.setItem('jwtoken', json.token);\r\n\t\t\t\t\tuserHasAuthenticated(true);\r\n\t\t\t\t\thistory.push(\"/\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(\"Could not authenticate user \" + fields.username + \" xhr.readyState=\" + xhr.readyState + \" xhr.status=\" + xhr.status);\r\n\t\t\t\t\tsetIsLoading(false);\r\n\t\t\t\t\tuserHasAuthenticated(false);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar data = JSON.stringify({ \"username\": fields.username, \"password\": fields.password });\r\n\t\t\txhr.send(data);\r\n\t\t} catch (e) {\r\n\t\t\tonError(e);\r\n\t\t\tsetIsLoading(false);\r\n\t\t\tuserHasAuthenticated(false);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"form-container-outer\">\r\n\t\t\t<div className=\"form-container-inner\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<img className=\"embossing\" src={embossing} alt=\"embossing\" />\r\n\t\t\t\t\t<h2 align=\"center\">LOG IN TO YOUR ACCOUNT</h2>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Form onSubmit={handleSubmit}>\r\n\t\t\t\t\t<Form.Group size=\"lg\" controlId=\"username\">\r\n\t\t\t\t\t\t<Form.Label>Username</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\ttype=\"username\"\r\n\t\t\t\t\t\t\tvalue={fields.username}\r\n\t\t\t\t\t\t\tonChange={handleFieldChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group size=\"lg\" controlId=\"password\">\r\n\t\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tvalue={fields.password}\r\n\t\t\t\t\t\t\tonChange={handleFieldChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<LoaderButton\r\n\t\t\t\t\t\tblock\r\n\t\t\t\t\t\tsize=\"lg\"\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\tdisabled={!validateForm()}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tLogin\r\n\t\t\t\t\t</LoaderButton>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\t","import React, { useState } from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\n// import Button from \"react-bootstrap/Button\";\r\nimport LoaderButton from \"./LoaderButton\";\r\nimport \"./Forms.css\";\r\nimport { useAppContext } from \"../libs/contextLib\";\r\nimport { useFormFields } from \"../libs/hooksLib\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { onError } from \"../libs/errorLib\";\r\nimport embossing from \"../embossing.svg\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\n\r\nexport default function Signup() {\r\n  const [fields, handleFieldChange] = useFormFields({\r\n    username: \"\",\r\n    displayName: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    role: \"artist\"\r\n  });\r\n  const history = useHistory();\r\n  const [newUser, setNewUser] = useState(null);\r\n  const { userHasAuthenticated } = useAppContext();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  function validateForm() {\r\n    return (\r\n      fields.username.length > 0 &&\r\n      fields.displayName.length > 0 &&\r\n      fields.email.length > 0 &&\r\n      fields.password.length > 0\r\n    );\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    try {\r\n      setIsLoading(true);\r\n      // Sending and receiving data in JSON format using POST method\r\n      //\r\n      var xhr = new XMLHttpRequest();\r\n      var url = process.env.REACT_APP_UNCOPIED_API + \"api/v1.0/auth/register\";\r\n      xhr.open(\"POST\", url, true);\r\n      xhr.setRequestHeader(\"Content-Type\", \"application/json\");\r\n      xhr.onload = function () {\r\n        if (xhr.status === 200) {\r\n          var json = JSON.parse(xhr.responseText);\r\n          if (json == null || json.token == null) {\r\n            alert(\"Could not signup and auth user \" + fields.username);\r\n            setIsLoading(false);\r\n            userHasAuthenticated(false);\r\n          } else {\r\n            console.log(json.user + \", \" + json.token);\r\n            localStorage.setItem('jwtoken', json.token);\r\n            userHasAuthenticated(true);\r\n            history.push(\"/\");\r\n          }\r\n        } else {\r\n          alert(\"Could not signup user \" + fields.username);\r\n          setIsLoading(false);\r\n          userHasAuthenticated(false);\r\n        }\r\n      };\r\n      var data = JSON.stringify({ \"username\": fields.username, \"display_name\": fields.displayName, \"email\": fields.email, \"password\": fields.password, \"role\": fields.role });\r\n      xhr.send(data);\r\n    } catch (e) {\r\n      onError(e);\r\n      setIsLoading(false);\r\n      userHasAuthenticated(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"form-container-outer\">\r\n      <div className=\"form-container-inner\">\r\n        <div>\r\n          <img className=\"embossing\" src={embossing} alt=\"embossing\" />\r\n          <h2 align=\"center\">CREATE YOUR ACCOUNT</h2>\r\n        </div>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Form.Group controlId=\"username\" size=\"lg\">\r\n            <Form.Label>Username</Form.Label>\r\n            <Form.Control\r\n              autoFocus\r\n              type=\"text\"\r\n              value={fields.username}\r\n              onChange={handleFieldChange}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"displayName\" size=\"lg\">\r\n            <Form.Label>Display name</Form.Label>\r\n            <Form.Control\r\n              autoFocus\r\n              type=\"text\"\r\n              value={fields.displayName}\r\n              onChange={handleFieldChange}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"email\" size=\"lg\">\r\n            <Form.Label>Email</Form.Label>\r\n            <Form.Control\r\n              autoFocus\r\n              type=\"email\"\r\n              value={fields.email}\r\n              onChange={handleFieldChange}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"password\" size=\"lg\">\r\n            <Form.Label>Password</Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              value={fields.password}\r\n              onChange={handleFieldChange}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"role\">\r\n            <Form.Label>Role</Form.Label>\r\n            <Form.Control as=\"select\" onChange={handleFieldChange} value={fields.role} >\r\n              <option value=\"artist\">Artist</option>\r\n              <option value=\"collector\">Collector</option>\r\n              <option value=\"museum\">Museum</option>\r\n              <option value=\"other\">Other</option>\r\n            </Form.Control>\r\n          </Form.Group>\r\n        By registering, you agree to our <a href=\"/assets/pdf/202101_Uncopied_terms.pdf\" target=\"top\">Terms and Conditions</a>.\r\n        <LoaderButton\r\n            block\r\n            size=\"lg\"\r\n            type=\"submit\"\r\n            variant=\"success my-3\"\r\n            isLoading={isLoading}\r\n            disabled={!validateForm()}\r\n          >\r\n            Create account\r\n        </LoaderButton>\r\n        </Form>\r\n        <p align=\"center\">\r\n          <LinkContainer to=\"/login\">\r\n            <Nav.Link>I already have an account</Nav.Link>\r\n          </LinkContainer>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n}\t","import React, {useRef, useState} from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport {useHistory} from \"react-router-dom\";\nimport LoaderButton from \"./LoaderButton\";\nimport {onError} from \"../libs/errorLib\";\nimport \"./Forms.css\";\nimport \"./NewArtworkSource.css\";\nimport embossing from \"../embossing.svg\";\n\nexport default function NewArtworkSource() {\n    const file = useRef(null);\n    const history = useHistory();\n    const [license, setLicense] = useState(\"UC-BY-NC-ND\");\n    const [hash, setHash] = useState(\"\");\n    const [isLoading, setIsLoading] = useState(false);\n    const [isUploading, setIsUploading] = useState(false);\n    const types = ['image/x-png', 'image/png', 'image/jpeg']\n\n    function validateForm() {\n        return (hash.length > 0);\n    }\n\n    function handleFileChange(event) {\n        file.current = event.target.files[0];\n    }\n\n    async function handleUpload(event) {\n        event.preventDefault();\n        if (file.current && file.current.size > process.env.REACT_APP_MAX_ATTACHMENT_SIZE) {\n            alert(\n                `Please pick a file smaller than ${process.env.REACT_APP_MAX_ATTACHMENT_SIZE /\n                1000000} MB.`\n            );\n            return;\n        }\n        if (file.current) {\n            try {\n                setIsUploading(true);\n                // Sending and receiving data in JSON format using POST method\n                //\n                var xhr = new XMLHttpRequest();\n                var url = process.env.REACT_APP_UNCOPIED_UPLOAD;\n                xhr.open(\"POST\", url, true);\n                xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem(\"jwtoken\"));\n                xhr.onload = function () {\n                    if (xhr.status === 200) {\n                        var json = JSON.parse(xhr.responseText);\n                        if (json == null) {\n                            alert(\"Couldnt upload file\");\n                        } else if (json.Message) {\n                            alert(json.Message);\n                        } else {\n                            // all good\n                            setHash(json.IPFSHash)\n                            console.log(json);\n                        }\n                    } else {\n                        alert(\"Could upload \" + hash + \" error \" + xhr.status);\n                    }\n                    setIsUploading(false);\n                };\n                /*\n                \"source_license\":\"CC-BY 4.0\",\n                \"ipfs_hash\":\"QmZFmZfRcspTtgUk7EDZNofTMJiCUh7ffhU6kd3ycNbWDi\"\n                */\n                var formData = new FormData();\n                formData.append(\"file\", file.current, \"file\");\n                xhr.send(formData);\n            } catch (e) {\n                onError(e);\n                setIsUploading(false);\n            }\n        }\n    }\n\n    async function handleSubmit(event) {\n        event.preventDefault();\n        if (hash.length > 0) {\n            try {\n                setIsLoading(true);\n                // Sending and receiving data in JSON format using POST method\n                //\n                var xhr = new XMLHttpRequest();\n                var url = process.env.REACT_APP_UNCOPIED_API+\"api/v1.0/src/\";\n                xhr.open(\"POST\", url, true);\n                xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n                xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem(\"jwtoken\"));\n                xhr.onload = function () {\n                    if (xhr.status === 200) {\n                        var json = JSON.parse(xhr.responseText);\n                        if (json == null) {\n                            alert(\"Could upload \" + hash);\n                            setIsLoading(false);\n                        } else if (json.StampError.length > 0) {\n                            alert(json.StampError);\n                            setIsLoading(false);\n                        } else {\n                            console.log(json);\n                            // create a new edition for json.ID\n                            history.push(\"/src/\"+json.ID);\n                        }\n                    } else {\n                        alert(\"Could upload \" + hash + \" error \" + xhr.status);\n                    }\n                };\n                /*\n                \"source_license\":\"CC-BY 4.0\",\n                \"ipfs_hash\":\"QmZFmZfRcspTtgUk7EDZNofTMJiCUh7ffhU6kd3ycNbWDi\"\n                */\n                var data = JSON.stringify({\"source_license\": license, \"ipfs_hash\": hash});\n                xhr.send(data);\n            } catch (e) {\n                onError(e);\n                setIsLoading(false);\n            }\n        }\n    }\n\n    return (\n        <div className=\"form-container-outer\">\n            <div className=\"form-container-inner\">\n\n            <div>\n                <img className=\"embossing\" src={embossing} alt=\"embossing\" />\n                <h2 align=\"center\">UPLOAD NEW ARTWORK</h2>\n            </div>\n            <p>\n                Choose a license and upload your high-definition image source. We take responsibility to ensure its long\n                term preservation. Your image source will be stored on the IPFS (the Interplanetary File System) with multiple\n                redundancies. We need a high level of digital preservation for our certificates to still 'work' in 10 years and more.\n            </p>\n            <Form onSubmit={handleUpload}>\n                <Form.Group controlId=\"file\">\n                    <Form.Label>Upload high-definition image file (PNG or JPG, max 15mb)</Form.Label>\n                    <Form.Control onChange={handleFileChange} type=\"file\" accept=\"image/x-png,image/png,image/jpeg\"\n                                  disabled={false}/>\n                </Form.Group>\n\n                <LoaderButton\n                    block\n                    type=\"submit\"\n                    size=\"lg\"\n                    variant=\"primary\"\n                    isLoading={isUploading}\n                >\n                    Upload\n                </LoaderButton>\n            </Form>\n            <Form onSubmit={handleSubmit}>\n                <Form.Group controlId=\"content\">\n                    <Form.Label>Or, upload via <a href=\"https://pinata.cloud/\" target=\"top\">Pinata</a>,\n                        and copy the IPFS hash</Form.Label>\n                    <Form.Control\n                        value={hash}\n                        type=\"text\"\n                        placeholder=\"IPFS hash\"\n                        onChange={(e) => setHash(e.target.value)}\n                    />\n                </Form.Group>\n                <Form.Group controlId=\"controlSelect\">\n                    <Form.Label>Select license for the image</Form.Label>\n                    <Form.Control as=\"select\" onChange={(e) => setLicense(e.target.value)}>\n                        <option value=\"UC-BY-NC-ND\">Uncopied-NonCommercial-NoDerivs</option>\n                        <option value=\"CC-BY-NC-ND\">Attribution-NonCommercial-NoDerivs</option>\n                        <option value=\"CC-BY-NC-SA\">Attribution-NonCommercial-ShareAlike</option>\n                        <option value=\"CC-BY-NC\">Attribution-NonCommercial</option>\n                        <option value=\"CC-BY-ND\">Attribution-NoDerivs</option>\n                        <option value=\"CC-BY-SA\">Attribution-ShareAlike</option>\n                        <option value=\"CC-BY\">Attribution</option>\n                        <option value=\"CC0\">Zero Public Domain</option>\n                        <option value=\"CC Public Domain Mark 1.0\">Public domain</option>\n                        Attribution\n                    </Form.Control>\n                </Form.Group>\n                <LoaderButton\n                    block\n                    type=\"submit\"\n                    size=\"lg\"\n                    variant=\"primary\"\n                    isLoading={isLoading}\n                    disabled={!validateForm()}\n                >\n                    Create\n                </LoaderButton>\n            </Form>\n            </div>\n        </div>\n    );\n}","import React, { useRef, useState, useEffect } from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { onError } from \"../libs/errorLib\";\r\nimport \"./Forms.css\";\r\nimport \"./ArtworkSource.css\";\r\nimport {useAppContext} from \"../libs/contextLib\";\r\nimport ListGroup from \"react-bootstrap/ListGroup\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport LoaderButton from \"./LoaderButton\";\r\nimport {useFormFields} from \"../libs/hooksLib\";\r\nimport embossing from \"../embossing.svg\";\r\n\r\nexport default function ArtworkSource() {\r\n\r\n    const [fields, handleFieldChange] = useFormFields({\r\n        artworkName: \"\",\r\n        artMedium: \"\",\r\n        artworkSurface: \"\",\r\n        width: \"\",\r\n        height: \"\",\r\n        labelTemplate:\"\",\r\n        certificateLabel:\"\",\r\n        assetLabel:\"\",\r\n        metadataTemplate:\"\",\r\n        editionTotal:1,\r\n    });\r\n\r\n    const file = useRef(null);\r\n    const { id } = useParams();\r\n    const history = useHistory();\r\n    const [artworkSource, setArtworkSource] = useState(null);\r\n\r\n    const {isAuthenticated} = useAppContext();\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    function isLimitedEdition() {\r\n        if( ! fields.labelTemplate.includes(\"Limited\") ) {\r\n            fields.editionTotal=1;\r\n            fields.certificateLabel=\"{{.AssetName}} by {{.IssuerName}}, {{.CurrentYear}} (Unique Original)\";\r\n            fields.assetLabel=\"{{.AssetName}}\";\r\n            fields.metadataTemplate=\"    {\\n\" +\r\n                \"      \\\"@context\\\": \\\"https://schema.org\\\",\\n\" +\r\n                \"      \\\"@type\\\": \\\"VisualArtwork\\\",\\n\" +\r\n                \"      \\\"name\\\": \\\"{{.AssetName}}\\\",\\n\" +\r\n                \"      \\\"image\\\": \\\"{{.ThumbnailURL}}\\\",\\n\" +\r\n                \"      \\\"description\\\": \\\"{{.CertificateLabel}}\\\",\\n\" +\r\n                \"      \\\"creator\\\": [\\n\" +\r\n                \"        {\\n\" +\r\n                \"          \\\"@type\\\": \\\"Person\\\",\\n\" +\r\n                \"          \\\"name\\\": \\\"{{.IssuerName}}\\\"\\n\" +\r\n                \"        }\\n\" +\r\n                \"      ],\\n\" +\r\n                \"      \\\"width\\\": [\\n\" +\r\n                \"        {\\n\" +\r\n                \"          \\\"@type\\\": \\\"Distance\\\",\\n\" +\r\n                \"          \\\"name\\\": \\\"{{.AssetProperties.Width}}\\\"\\n\" +\r\n                \"        }\\n\" +\r\n                \"      ],\\n\" +\r\n                \"      \\\"height\\\": [\\n\" +\r\n                \"        {\\n\" +\r\n                \"          \\\"@type\\\": \\\"Distance\\\",\\n\" +\r\n                \"          \\\"name\\\": \\\"{{.AssetProperties.Height}}\\\"\\n\" +\r\n                \"        }\\n\" +\r\n                \"      ],\\n\" +\r\n                \"      \\\"artMedium\\\": \\\"{{.AssetProperties.ArtMedium}}\\\",\\n\" +\r\n                \"      \\\"artworkSurface\\\": \\\"{{.AssetProperties.ArtworkSurface}}\\\"\\n\" +\r\n                \"    }\";\r\n            return false\r\n        } else {\r\n            fields.certificateLabel=\"{{.AssetName}} by {{.IssuerName}}, {{.CurrentYear}} ({{.EditionNumber}} / {{.EditionTotal}})\";\r\n            fields.assetLabel=\"{{.AssetName}} {{.EditionNumber}}/{{.EditionTotal}}\";\r\n            fields.metadataTemplate=\"\";\r\n            fields.metadataTemplate=\"    {\\n\" +\r\n                \"      \\\"@context\\\": \\\"https://schema.org\\\",\\n\" +\r\n                \"      \\\"@type\\\": \\\"VisualArtwork\\\",\\n\" +\r\n                \"      \\\"name\\\": \\\"{{.AssetName}}\\\",\\n\" +\r\n                \"      \\\"image\\\": \\\"{{.ThumbnailURL}}\\\",\\n\" +\r\n                \"      \\\"description\\\": \\\"{{.CertificateLabel}}\\\",\\n\" +\r\n                \"      \\\"creator\\\": [\\n\" +\r\n                \"        {\\n\" +\r\n                \"          \\\"@type\\\": \\\"Person\\\",\\n\" +\r\n                \"          \\\"name\\\": \\\"{{.IssuerName}}\\\"\\n\" +\r\n                \"        }\\n\" +\r\n                \"      ],\\n\" +\r\n                \"      \\\"width\\\": [\\n\" +\r\n                \"        {\\n\" +\r\n                \"          \\\"@type\\\": \\\"Distance\\\",\\n\" +\r\n                \"          \\\"name\\\": \\\"{{.AssetProperties.Width}}\\\"\\n\" +\r\n                \"        }\\n\" +\r\n                \"      ],\\n\" +\r\n                \"      \\\"height\\\": [\\n\" +\r\n                \"        {\\n\" +\r\n                \"          \\\"@type\\\": \\\"Distance\\\",\\n\" +\r\n                \"          \\\"name\\\": \\\"{{.AssetProperties.Height}}\\\"\\n\" +\r\n                \"        }\\n\" +\r\n                \"      ],\\n\" +\r\n                \"      \\\"artEdition\\\": \\\"{{.EditionTotal}}\\\",\\n\" +\r\n                \"      \\\"position\\\": \\\"{{.EditionNumber}}\\\",\\n\" +\r\n                \"      \\\"artMedium\\\": \\\"{{.AssetProperties.ArtMedium}}\\\",\\n\" +\r\n                \"      \\\"artworkSurface\\\": \\\"{{.AssetProperties.ArtworkSurface}}\\\"\\n\" +\r\n                \"    }\";\r\n            return true\r\n        }\r\n    }\r\n\r\n    function validateForm() {\r\n        return (\r\n            fields.artworkName.length > 0 &&\r\n            fields.editionTotal > 0\r\n        );\r\n    }\r\n\r\n    useEffect(() => {\r\n        async function onLoad() {\r\n            setIsLoading(true);\r\n            if (!isAuthenticated) {\r\n                return;\r\n            }\r\n            try {\r\n                const artworkSource = await loadArtworkSource({id});\r\n                console.log(\"artworkSource = \"+artworkSource )\r\n                setArtworkSource(artworkSource);\r\n            } catch (e) {\r\n                onError(e);\r\n            }\r\n            setIsLoading(false);\r\n        }\r\n        onLoad();\r\n    }, [isAuthenticated,id]);\r\n\r\n\r\n    function loadArtworkSource(sourceId) {\r\n        return new Promise(resolve => {\r\n            try {\r\n                // Sending and receiving data in JSON format using POST method\r\n                //\r\n                var xhr = new XMLHttpRequest();\r\n                var url = process.env.REACT_APP_UNCOPIED_API+\"api/v1.0/src/\"+sourceId.id;\r\n                console.log(url)\r\n                xhr.open(\"GET\", url, true);\r\n                xhr.setRequestHeader(\"Content-Type\", \"application/json\");\r\n                xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem(\"jwtoken\"));\r\n                xhr.onload = function () {\r\n                    if (xhr.status === 200) {\r\n                        var json = JSON.parse(xhr.responseText);\r\n                        if (json == null) {\r\n                            alert(\"Could not get src, json is null\");\r\n                        } else {\r\n                            console.log(json);\r\n                            resolve(json)\r\n                        }\r\n                    } else {\r\n                        alert(\"Could not get src \" + xhr.status);\r\n                    }\r\n                };\r\n                /*\r\n                \"source_license\":\"CC-BY 4.0\",\r\n                \"ipfs_hash\":\"QmZFmZfRcspTtgUk7EDZNofTMJiCUh7ffhU6kd3ycNbWDi\"\r\n                */\r\n                xhr.send();\r\n            } catch (e) {\r\n                onError(e);\r\n            }\r\n        })\r\n    }\r\n\r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n        try {\r\n            // Sending and receiving data in JSON format using POST method\r\n            //\r\n            var xhr = new XMLHttpRequest();\r\n            var url = process.env.REACT_APP_UNCOPIED_API+\"api/v1.0/asset/\";\r\n            xhr.open(\"POST\", url, true\t);\r\n            xhr.setRequestHeader(\"Content-Type\", \"application/json\");\r\n            xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem(\"jwtoken\"));\r\n            xhr.onload = function () {\r\n                if ( xhr.status === 200 ) {\r\n                    var json = JSON.parse(xhr.responseText);\r\n                    if( json==null ) {\r\n                        alert(\"Could not read asset template\");\r\n                    } else {\r\n                        console.log(\"got asset template \"+json);\r\n                        // local Storage.setItem('assetTemplateID', json.Template.ID);\r\n                        history.push(\"/cert/new/\"+parseInt(json.Template.ID.valueOf()));\r\n                    }\r\n                } else {\r\n                    alert(\"Could not create asset template\");\r\n                }\r\n                setIsLoading(false);\r\n            };\r\n            var data = JSON.stringify(\r\n                {\"name\": fields.artworkName, \"certificate_label\": fields.certificateLabel,\r\n                    \"asset_label\": fields.assetLabel, \"edition_total\": parseInt(fields.editionTotal),\r\n                    \"metadata\":fields.metadataTemplate,\r\n                    \"asset_properties\" : {\r\n                        \"ArtMedium\":fields.artMedium,\r\n                        \"ArtworkSurface\":fields.artworkSurface,\r\n                        \"Width\":fields.width,\r\n                        \"Height\":fields.height,\r\n                    },\r\n                    \"source_id\": parseInt(id)});\r\n            console.log(\"create asset data = \"+data)\r\n            xhr.send(data);\r\n        } catch (e) {\r\n            onError(e);\r\n            setIsLoading(false);\r\n        }\r\n    }\r\n\r\n    function renderArtworkSource() {\r\n        return (\r\n            <div className=\"form-container-outer\">\r\n                <div className=\"form-container-inner\">\r\n                    <div>\r\n                        <img className=\"embossing\" src={embossing} alt=\"embossing\" />\r\n                        <h2 align=\"center\">CREATE EDITION</h2>\r\n                        <p>\r\n                            Your edition information (also called 'metadata') will appear in the certificate of authenticity. There are specific constraints\r\n                            on the length of names and labels, that will be verified during the certificate creation. We recommend a short and distinctive name.\r\n                        </p>\r\n                    </div>\r\n                    <Form onSubmit={handleSubmit}>\r\n                        <Form.Group controlId=\"artworkName\" size=\"lg\">\r\n                            <Form.Label>Artwork name</Form.Label>\r\n                            <Form.Control\r\n                                autoFocus\r\n                                type=\"text\"\r\n                                value={fields.artworkName}\r\n                                onChange={handleFieldChange}\r\n                            />\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"labelTemplate\">\r\n                            <Form.Label>Choose type of certificate</Form.Label>\r\n                            <Form.Control as=\"select\"  onChange={handleFieldChange} value={fields.labelTemplate} >\r\n                                <option value=\"UC-SingleOriginal\">Single Original (Uncopied Template)</option>\r\n                                <option value=\"UC-LimitedEdition\">Limited Edition of 1/N Original Copies (Uncopied Template)</option>\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"editionTotal\" size=\"lg\" >\r\n                            <Form.Label>Edition total</Form.Label>\r\n                            <Form.Control\r\n                                autoFocus\r\n                                type=\"number\"   min={1} max={30}\r\n                                value={fields.editionTotal}\r\n                                onChange={handleFieldChange}\r\n                                disabled={!isLimitedEdition()}\r\n                            />\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"artMedium\">\r\n                            <Form.Label>Art medium</Form.Label>\r\n                            <Form.Control\r\n                                autoFocus\r\n                                type=\"text\"\r\n                                value={fields.artMedium}\r\n                                onChange={handleFieldChange}\r\n                            />\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"artworkSurface\">\r\n                            <Form.Label>Artwork surface</Form.Label>\r\n                            <Form.Control\r\n                                autoFocus\r\n                                type=\"text\"\r\n                                value={fields.artworkSurface}\r\n                                onChange={handleFieldChange}\r\n                            />\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"width\">\r\n                            <Form.Label>Width</Form.Label>\r\n                            <Form.Control\r\n                                autoFocus\r\n                                type=\"text\"\r\n                                value={fields.width}\r\n                                onChange={handleFieldChange}\r\n                            />\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"height\">\r\n                            <Form.Label>Height</Form.Label>\r\n                            <Form.Control\r\n                                autoFocus\r\n                                type=\"text\"\r\n                                value={fields.height}\r\n                                onChange={handleFieldChange}\r\n                            />\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"certificateLabel\" size=\"lg\">\r\n                            <Form.Label>Certificate label preview (max length : 128)</Form.Label>\r\n                            <Form.Control\r\n                                autoFocus\r\n                                type=\"text\"\r\n                                value={fields.certificateLabel}\r\n                                onChange={handleFieldChange}\r\n                                disabled={true}\r\n                            />\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"assetLabel\" size=\"lg\">\r\n                            <Form.Label>Asset label preview (max length : 32)</Form.Label>\r\n                            <Form.Control\r\n                                autoFocus\r\n                                type=\"text\"\r\n                                value={fields.assetLabel}\r\n                                onChange={handleFieldChange}\r\n                                disabled={true}\r\n                            />\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"metadataTemplate\" size=\"lg\">\r\n\r\n                            <Form.Label>Metadata template</Form.Label>\r\n                            <Form.Control\r\n                                autoFocus\r\n                                as=\"textarea\"\r\n                                type=\"text\"\r\n                                plaintext=\"true\"\r\n                                value={fields.metadataTemplate}\r\n                                onChange={handleFieldChange}\r\n                                disabled={true}\r\n                            />\r\n                        </Form.Group>\r\n                        <LoaderButton\r\n                            block\r\n                            type=\"submit\"\r\n                            size=\"lg\"\r\n                            variant=\"primary\"\r\n                            isLoading={isLoading}\r\n                            disabled={!validateForm()}\r\n                        >\r\n                            Create New Edition\r\n                        </LoaderButton>\r\n                    </Form>\r\n                    <p>\r\n                        Creating several editions for a same artwork may deteriorate your brand as an artist, or even conflict\r\n                        with the promise you made in earlier edition. Please, don't hesitate to\r\n                        <a href=\"https://calendly.com/namsor/uncopied_art\" target=\"top\"> schedule a free chat </a> with an advisor.\r\n                    </p>\r\n                    <div className=\"ArtworkSource\">\r\n                   <span className=\"font-weight-bold\">\r\n                       <img className=\"thumbnail\" src={`${process.env.REACT_APP_UNCOPIED_IPFS}${artworkSource.IPFSHashThumbnail}`} alt={`${new Date(artworkSource.CreatedAt).toLocaleString()} ${artworkSource.SourceLicense}`}/>\r\n                       <figcaption className=\"thumbnailCaption\">{new Date(artworkSource.CreatedAt).toLocaleString()} {artworkSource.SourceLicense}</figcaption>\r\n                   </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"Home\">\r\n            {isAuthenticated && !isLoading ? renderArtworkSource() : <p>Please sign-in</p>}\r\n        </div>\r\n    );\r\n\r\n}","import React, {useEffect, useState} from \"react\";\nimport \"./Home.css\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport {useAppContext} from \"../libs/contextLib\";\nimport {onError} from \"../libs/errorLib\";\nimport {LinkContainer} from \"react-router-bootstrap\";\nimport Nav from \"react-bootstrap/Nav\";\nimport embossing from \"../embossing.svg\";\n\nexport default function Home() {\n    const [artworkSources, setArtworkSources] = useState([]);\n    const {isAuthenticated} = useAppContext();\n    const [isLoading, setIsLoading] = useState(true);\n    useEffect(() => {\n        async function onLoad() {\n            setIsLoading(true);\n            if (!isAuthenticated) {\n                return;\n            }\n            try {\n                const artworkSources = await loadArtworkSources();\n                const artworkSourcesStamped = artworkSources.filter( artworkSource =>  artworkSource.StampError.length == 0 );\n                setArtworkSources(artworkSourcesStamped);\n            } catch (e) {\n                onError(e);\n            }\n            setIsLoading(false);\n        }\n        onLoad();\n    }, [isAuthenticated]);\n\n    function loadArtworkSources() {\n        return new Promise(resolve => {\n            try {\n                // Sending and receiving data in JSON format using POST method\n                //\n                var xhr = new XMLHttpRequest();\n                var url = process.env.REACT_APP_UNCOPIED_API+\"api/v1.0/src/\";\n                xhr.open(\"GET\", url, true);\n                xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n                xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem(\"jwtoken\"));\n                xhr.onload = function () {\n                    if (xhr.status === 200) {\n                        var json = JSON.parse(xhr.responseText);\n                        if (json == null) {\n                            alert(\"Could not get src, json is null\");\n                        } else {\n                            console.log(json);\n                            resolve(json)\n                        }\n                    } else {\n                        alert(\"Could not get src \" + xhr.status);\n                    }\n                };\n                /*\n                \"source_license\":\"CC-BY 4.0\",\n                \"ipfs_hash\":\"QmZFmZfRcspTtgUk7EDZNofTMJiCUh7ffhU6kd3ycNbWDi\"\n                */\n                xhr.send();\n            } catch (e) {\n                onError(e);\n            }\n        })\n    }\n\n\n    function renderArtworkSourcesList(artworkSources) {\n        return (\n            <>\n                {artworkSources.map(item => (\n                    <LinkContainer key={item.ID} to={`/src/${item.ID}`}>\n                        <ListGroup.Item action>\n                            <span className=\"font-weight-bold\">\n                              <img className=\"thumbnail\" src={`${process.env.REACT_APP_UNCOPIED_IPFS}${item.IPFSHashThumbnail}`} alt={`${new Date(item.CreatedAt).toLocaleString()} ${item.SourceLicense}`}/>\n                              <figcaption className=\"thumbnailCaption\">{new Date(item.CreatedAt).toLocaleString()} {item.SourceLicense}</figcaption>\n                            </span>\n                        </ListGroup.Item>\n                    </LinkContainer>\n                ))}\n                <LinkContainer to=\"/src/new/\">\n                    <ListGroup.Item action className=\"py-3 text-nowrap text-truncate\">\n                        <span className=\"ml-2 font-weight-bold\">New source image</span>\n                    </ListGroup.Item>\n                </LinkContainer>\n            </>\n        );\n    }\n\n    function renderArtworkSources() {\n        return (\n            <div className=\"artworkSources\">\n                <div>\n                    <img className=\"embossing\" src={embossing} alt=\"embossing\" />\n                    <h2 align=\"center\">YOUR ARTWORKS</h2>\n                </div>\n                <ListGroup>{!isLoading && renderArtworkSourcesList(artworkSources)}</ListGroup>\n            </div>\n        );\n    }\n\n    function renderLander() {\n        return (\n            <div className=\"Home\">\n                <LinkContainer to=\"/login\">\n                    <Nav.Link>Log in</Nav.Link>\n                </LinkContainer>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"Home\">\n            {isAuthenticated ? renderArtworkSources() : renderLander()}\n        </div>\n    );\n}","import React, { useRef, useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { onError } from \"../libs/errorLib\";\nimport \"./Forms.css\";\nimport \"./NewCertificate.css\";\nimport {useAppContext} from \"../libs/contextLib\";\nimport Form from \"react-bootstrap/Form\";\nimport LoaderButton from \"./LoaderButton\";\nimport embossing from \"../embossing.svg\";\n\nexport default function NewCertificate() {\n\n    const history = useHistory();\n    const [assetTemplate, setAssetTemplate] = useState(null);\n    const { id } = useParams();\n    const {isAuthenticated} = useAppContext();\n    const [isLoading, setIsLoading] = useState(true);\n    const [isCertificateAgreed, setIsCertificateAgreed] = useState(false);\n    const [isLicenceAgreed, setIsLicenseAgreed] = useState(false);\n    const [isPrivacyAgreed, setIsPrivacyAgreed] = useState(false);\n\n    function validateForm() {\n        return (\n            isCertificateAgreed && isLicenceAgreed && isPrivacyAgreed\n        );\n    }\n\n    useEffect(() => {\n        async function onLoad() {\n            setIsLoading(true);\n            if (!isAuthenticated) {\n                return;\n            }\n            try {\n                const assetTemplate = await loadAssetTemplate({id});\n                console.log(\"assetTemplate = \"+assetTemplate )\n                setAssetTemplate(assetTemplate);\n            } catch (e) {\n                onError(e);\n            }\n            setIsLoading(false);\n        }\n        onLoad();\n    }, [isAuthenticated, id]);\n\n    function loadAssetTemplate(assetTemplateId) {\n        return new Promise(resolve => {\n            try {\n                // Sending and receiving data in JSON format using POST method\n                //\n                var xhr = new XMLHttpRequest();\n                var url = process.env.REACT_APP_UNCOPIED_API+\"api/v1.0/asset/\"+assetTemplateId.id;\n                console.log(url)\n                xhr.open(\"GET\", url, true);\n                xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n                xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem(\"jwtoken\"));\n                xhr.onload = function () {\n                    if (xhr.status === 200) {\n                        var json = JSON.parse(xhr.responseText);\n                        if (json == null) {\n                            alert(\"Could not get asset, json is null\");\n                        } else {\n                            console.log(json);\n                            resolve(json)\n                        }\n                    } else {\n                        alert(\"Could not get asset \" + xhr.status);\n                    }\n                };\n                /*\n                \"source_license\":\"CC-BY 4.0\",\n                \"ipfs_hash\":\"QmZFmZfRcspTtgUk7EDZNofTMJiCUh7ffhU6kd3ycNbWDi\"\n                */\n                xhr.send();\n            } catch (e) {\n                onError(e);\n            }\n        })\n    }\n\n    function handleSubmit(event) {\n        event.preventDefault();\n        try {\n            setIsLoading(true);\n            // Sending and receiving data in JSON format using POST method\n            //\n            var xhr = new XMLHttpRequest();\n            var url = process.env.REACT_APP_UNCOPIED_API+\"api/v1.0/cert/order\";\n            xhr.open(\"POST\", url, true);\n            xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n            xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem(\"jwtoken\"));\n            xhr.onload = function () {\n                if (xhr.status === 200) {\n                    var json = JSON.parse(xhr.responseText);\n                    if (json == null) {\n                        alert(\"Could order \" + assetTemplate.ObjectUUID);\n                        setIsLoading(false);\n                    } else {\n                        console.log(json);\n                        //local Storage.removeItem('assetTemplateID');\n                        //local Storage.setItem('OrderUUID', assetTemplate.ObjectUUID);\n                        history.push(\"/cert/order/\"+assetTemplate.ObjectUUID);\n                    }\n                } else {\n                    alert(\"Could order \" + assetTemplate.ObjectUUID + \" error \" + xhr.status);\n                }\n            };\n            /*\n            \"source_license\":\"CC-BY 4.0\",\n            \"ipfs_hash\":\"QmZFmZfRcspTtgUk7EDZNofTMJiCUh7ffhU6kd3ycNbWDi\"\n            */\n            var data = JSON.stringify({\"AssetTemplateID\" : assetTemplate.ID, \"OrderUUID\": assetTemplate.ObjectUUID });\n            xhr.send(data);\n        } catch (e) {\n            onError(e);\n            setIsLoading(false);\n        }\n    }\n\n    function renderAssetTemplate() {\n        return (\n            <div className=\"form-container-outer\">\n                <div className=\"form-container-inner\">\n\n                <div>\n                    <img className=\"embossing\" src={embossing} alt=\"embossing\" />\n                    <h2 align=\"center\">PREVIEW CERTIFICATE</h2>\n                </div>\n                <p>\n                    Please carefully read and verify the <a href={`${process.env.REACT_APP_UNCOPIED_API}c/preview/${assetTemplate.ObjectUUID}`} target=\"top\">Certificate document</a>. Once the certificate is issued, it is immutable (it CANNOT be modified).\n                    This document refers to the UNCOPIED licence and Privacy agreement.\n                </p>\n                <div>\n                    <iframe\n                        style={{ width: \"100%\", height: \"500px\" }}\n                        src={`${process.env.REACT_APP_UNCOPIED_API}c/preview/${assetTemplate.ObjectUUID}`}\n                        title='title'\n                    />\n                </div>\n                <Form onSubmit={handleSubmit}>\n                    <Form.Group controlId=\"certificateAgreement\">\n                        <Form.Check type=\"checkbox\" value={isCertificateAgreed} onChange={(e) => setIsCertificateAgreed(e.target.value)}   label=\"I ACCEPT the Certificate document\"/>\n                    </Form.Group>\n                    <Form.Group controlId=\"licenceAgreement\">\n                        <Form.Check  type=\"checkbox\" value={isLicenceAgreed} onChange={(e) => setIsLicenseAgreed(e.target.value)} label=\"I ACCEPT the License agreement\" />\n                    </Form.Group>\n                    <Form.Group controlId=\"privacyAgreement\">\n                        <Form.Check type=\"checkbox\" value={isPrivacyAgreed} onChange={(e) => setIsPrivacyAgreed(e.target.value)} label=\"I ACCEPT the Privacy agreement\" />\n                    </Form.Group>\n                    <LoaderButton\n                        block\n                        type=\"submit\"\n                        size=\"lg\"\n                        variant=\"primary\"\n                        isLoading={isLoading}\n                        disabled={!validateForm()}\n                    >\n                        Accept\n                    </LoaderButton>\n                </Form>\n                <p>\n                    Creating several editions for a same artwork may deteriorate your brand as an artist, or even conflict\n                    with the promise you made in earlier edition. Please, follow our <a href=\"https://en.wikipedia.org/wiki/Guideline\" target=\"top\">guideline</a> and don't hesitate to\n                    <a href=\"https://calendly.com/namsor/uncopied_art\" target=\"top\"> schedule a free chat </a> with an advisor.\n                </p>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"Home\">\n            {isAuthenticated && !isLoading ? renderAssetTemplate() : <p>Please sign-in</p>}\n        </div>\n    );\n\n\n}","import React, { useRef, useState, useEffect } from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport \"./Forms.css\";\r\nimport \"./CheckoutCertificate.css\";\r\nimport {useAppContext} from \"../libs/contextLib\";\r\nimport embossing from \"../embossing.svg\";\r\nimport { PayPalScriptProvider, PayPalButtons } from \"@paypal/react-paypal-js\";\r\n\r\nexport default function CheckoutCertificate() {\r\n\r\n    const history = useHistory();\r\n    const { uuid } = useParams();\r\n    const [checkout, setCheckout] = useState(null);\r\n    const {isAuthenticated} = useAppContext();\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        async function onLoad() {\r\n            setIsLoading(true);\r\n            if (!isAuthenticated) {\r\n                return;\r\n            }\r\n            try {\r\n                const checkout = await loadCheckout({uuid});\r\n                console.log(\"checkout = \"+checkout )\r\n                setCheckout(checkout)\r\n            } catch (e) {\r\n                onError(e);\r\n            }\r\n            setIsLoading(false);\r\n        }\r\n        onLoad();\r\n    }, [isAuthenticated,uuid]);\r\n\r\n\r\n    function loadCheckout(orderId) {\r\n        return new Promise(resolve => {\r\n            try {\r\n                // Sending and receiving data in JSON format using POST method\r\n                //\r\n                var xhr = new XMLHttpRequest();\r\n                var url = process.env.REACT_APP_UNCOPIED_API+\"api/v1.0/order/checkout/\"+orderId.uuid;\r\n                console.log(url)\r\n                xhr.open(\"GET\", url, true);\r\n                xhr.setRequestHeader(\"Content-Type\", \"application/json\");\r\n                xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem(\"jwtoken\"));\r\n                xhr.onload = function () {\r\n                    if (xhr.status === 200) {\r\n                        var json = JSON.parse(xhr.responseText);\r\n                        if (json == null) {\r\n                            alert(\"Could not get order, json is null\");\r\n                        } else {\r\n                            console.log(json);\r\n                            resolve(json)\r\n                        }\r\n                    } else {\r\n                        alert(\"Could not get order \" + xhr.status);\r\n                    }\r\n                };\r\n                /*\r\n                \"source_license\":\"CC-BY 4.0\",\r\n                \"ipfs_hash\":\"QmZFmZfRcspTtgUk7EDZNofTMJiCUh7ffhU6kd3ycNbWDi\"\r\n                */\r\n                xhr.send();\r\n            } catch (e) {\r\n                onError(e);\r\n            }\r\n        })\r\n    }\r\n\r\n    function updateOrder(IsDIY, PaymentSuccess, details) {\r\n        try {\r\n            // Sending and receiving data in JSON format using POST method\r\n            //\r\n            var xhr = new XMLHttpRequest();\r\n            var url = process.env.REACT_APP_UNCOPIED_API+\"api/v1.0/order/process\";\r\n            xhr.open(\"POST\", url, true\t);\r\n            xhr.setRequestHeader(\"Content-Type\", \"application/json\");\r\n            xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem(\"jwtoken\"));\r\n            xhr.onload = function () {\r\n                if ( xhr.status === 200 ) {\r\n                    var json = JSON.parse(xhr.responseText);\r\n                    if( json==null ) {\r\n                        alert(\"Could update order\");\r\n                    } else {\r\n                        console.log(\"got order update \"+json);\r\n                    }\r\n\r\n                } else {\r\n                    alert(\"Could not update order\");\r\n                }\r\n                setIsLoading(false);\r\n                // trigger page reload\r\n                // window.location.reload(false);\r\n                history.push(\"/cert/collect/\"+checkout.Order.OrderUUID);\r\n            };\r\n            var stringified = JSON.stringify(details)\r\n            var data = JSON.stringify(\r\n                {\"OrderUUID\": checkout.Order.OrderUUID, \"IsDIY\": IsDIY, \"IsPaid\": PaymentSuccess, \"PaypalDetails\": stringified});\r\n            console.log(\"create order process = \"+data)\r\n            xhr.send(data);\r\n        } catch (e) {\r\n            onError(e);\r\n        }\r\n    }\r\n\r\n\r\n    function createDIYOrder(data, actions) {\r\n        console.log('Creating DIY order!');\r\n        return actions.order.create({\r\n            application_context : {\r\n                shipping_preference: \"NO_SHIPPING\",\r\n            },\r\n            purchase_units: [\r\n                {\r\n                    \"reference_id\" : checkout.Order.OrderUUID,\r\n                    //\"description\" : checkout.Order.OrderUUID,\r\n                    \"amount\":{\"currency_code\":checkout.Pricing.Ccy,\"value\":checkout.Pricing.PriceDiy}}\r\n                ]\r\n        });\r\n    }\r\n\r\n    function createOrder(data, actions) {\r\n        console.log('Creating DIY order!');\r\n        return actions.order.create({\r\n             application_context : {\r\n                 //GET_FROM_FILE. Use the buyer-selected shipping address.\r\n                 //SET_PROVIDED_ADDRESS. Use the merchant-provided address. Buyer cannot change the address on the PayPal pages. If the merchant does not pass an address, the buyer can choose the address on PayPal pages.\r\n                shipping_preference: \"GET_FROM_FILE\",\r\n            },\r\n            purchase_units: [\r\n                {\r\n                    \"reference_id\" : checkout.Order.OrderUUID,\r\n                    //\"description\" : checkout.Order.OrderUUID,\r\n                    \"amount\":{\"currency_code\":checkout.Pricing.Ccy,\"value\":checkout.Pricing.Price}}\r\n            ]\r\n        });\r\n    }\r\n\r\n    function onDIYApprove (data, actions) {\r\n        return actions.order.capture().then(function(details) {\r\n            console.log('Transaction completed by ' + details.payer.name.given_name + '!');\r\n            console.log(\"checkout = \"+JSON.stringify(details))\r\n            // CREATED. The order was created with the specified context.\r\n            // SAVED. The order was saved and persisted. The order status continues to be in progress until a capture is made with final_capture = true for all purchase units within the order.\r\n            // APPROVED. The customer approved the payment through the PayPal wallet or another form of guest or unbranded payment. For example, a card, bank account, or so on.\r\n            // VOIDED. All purchase units in the order are voided.\r\n            // COMPLETED. The payment was authorized or the authorized payment was captured for the order.\r\n            // PAYER_ACTION_REQUIRED. The order requires an action from the payer (e.g. 3DS authentication). Redirect the payer to the \"rel\":\"payer-action\" HATEOAS link returned as part of the response prior to authorizing or capturing the order.\r\n            if( details.status == 'COMPLETED' ) {\r\n                updateOrder(true,true,details)\r\n            } else {\r\n                updateOrder(true,false,details)\r\n            }\r\n        });\r\n    }\r\n\r\n    function onApprove (data, actions) {\r\n        return actions.order.capture().then(function(details) {\r\n            console.log('Transaction completed by ' + details.payer.name.given_name + '!');\r\n            console.log(\"checkout = \"+JSON.stringify(details))\r\n            // CREATED. The order was created with the specified context.\r\n            // SAVED. The order was saved and persisted. The order status continues to be in progress until a capture is made with final_capture = true for all purchase units within the order.\r\n            // APPROVED. The customer approved the payment through the PayPal wallet or another form of guest or unbranded payment. For example, a card, bank account, or so on.\r\n            // VOIDED. All purchase units in the order are voided.\r\n            // COMPLETED. The payment was authorized or the authorized payment was captured for the order.\r\n            // PAYER_ACTION_REQUIRED. The order requires an action from the payer (e.g. 3DS authentication). Redirect the payer to the \"rel\":\"payer-action\" HATEOAS link returned as part of the response prior to authorizing or capturing the order.\r\n            if( details.status == 'COMPLETED' ) {\r\n                updateOrder(false,true,details)\r\n            } else {\r\n                updateOrder(false,false,details)\r\n            }\r\n        });\r\n    }\r\n\r\n    function onDIYError(err) {\r\n        console.log('Error withj DIY order ! err = '+err);\r\n        alert('Error withj DIY order ! err = '+err);\r\n        updateOrder(true,false,err)\r\n    }\r\n\r\n    function onError(err) {\r\n        console.log('Error with order ! err = '+err);\r\n        alert('Error with order ! err = '+err);\r\n        updateOrder(false,false,err)\r\n    }\r\n\r\n    function renderOrder() {\r\n        return (\r\n            <div className=\"form-container-outer\">\r\n                <div className=\"form-container-inner\">\r\n                <div>\r\n                    <img className=\"embossing\" src={embossing} alt=\"embossing\" />\r\n                    <h2 align=\"center\">CHECKOUT CERTIFICATE</h2>\r\n                    <p>\r\n                        The 'tally stick' below is a critical part of our certificates. <a href=\"https://en.wikipedia.org/wiki/Tally_stick\" target=\"top\">Tally sticks</a> have been used for thousand of years\r\n                        to secure commercial contracts. Our registered and unique design combines physical and digital security features to protect your\r\n                        certificates.\r\n                    </p>\r\n                    <div className=\"tallypreview\" dangerouslySetInnerHTML={{ __html: checkout.CertPreview.TaillyPreviewSVG }} />\r\n                </div>\r\n                <h3>Delivery options</h3>\r\n                <p>\r\n                    Your are about to finalize your order. Certificates are valid for a duration of 10 years. You can order to e-mail and print the certificates yourself, or you can order to mail and receive a printed document by post.\r\n                </p>\r\n                <h4>Order by mail</h4>\r\n                <p>\r\n                    We activate the digital certificates immediately, we print the documents and you will receive the physical certificates by post within a few days.\r\n                </p>\r\n                <p>\r\n                    The cost is 25 {checkout.Pricing.CcySymbol} + 5 {checkout.Pricing.CcySymbol} per certificate.\r\n                </p>\r\n                <p>\r\n                    Pay now {checkout.Pricing.CcySymbol} {checkout.Pricing.Price} {checkout.Pricing.Ccy} {process.env.REACT_APP_UNCOPIED_PAYPAL_TESTCARD}\r\n                </p>\r\n                <PayPalScriptProvider options={{\r\n                    \"client-id\": process.env.REACT_APP_UNCOPIED_PAYPAL ,\r\n                    \"currency\" : checkout.Pricing.Ccy\r\n                }}>\r\n                    <PayPalButtons\r\n                        {...{\r\n                            style: { color: 'blue' },\r\n                            createOrder : createOrder,\r\n                            onApprove: onApprove,\r\n                            onError : onError,\r\n                        }}\r\n                    />\r\n                </PayPalScriptProvider>\r\n                <p>\r\n                    SATISFIED OR REIMBURSED : You have 14 days to return the certificates by post if they do not meet your expectations.\r\n                </p>\r\n                <h4>Do it yourself (DIY) instructions</h4>\r\n                <p>\r\n                    If you order to e-mail, you will receive PDF documents at your email address tutu@uncopied.art. The first PDF document contains the certificates.\r\n                    The other PDF document contains the tally sticks, providing identification and security to the certificates.\r\n                    We will activate the digital certificates as soon as we receive from you, the left and right clips addressed by mail to our P.O. box.\r\n\r\n                </p>\r\n                <p>\r\n                    While we are in ALPHA/BETA, the cost is just 1 {checkout.Pricing.CcySymbol} per certificate. Then the cost will be 5 {checkout.Pricing.CcySymbol} + 3 {checkout.Pricing.CcySymbol} per certificate.\r\n                </p>\r\n                <p>\r\n                    Pay now {checkout.Pricing.CcySymbol} {checkout.Pricing.PriceDiy} {checkout.Pricing.Ccy} {process.env.REACT_APP_UNCOPIED_PAYPAL_TESTCARD}\r\n                </p>\r\n                <PayPalScriptProvider options={{\r\n                    \"client-id\": process.env.REACT_APP_UNCOPIED_PAYPAL ,\r\n                    \"currency\" : checkout.Pricing.Ccy\r\n                }}>\r\n                    <PayPalButtons\r\n                        {...{\r\n                            style: { color: 'blue' },\r\n                            createOrder : createDIYOrder,\r\n                            onApprove: onDIYApprove,\r\n                            onError : onDIYError,\r\n                        }}\r\n                    />\r\n                </PayPalScriptProvider>\r\n                <p>\r\n                    SATISFIED OR REIMBURSED !\r\n                </p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"Home\">\r\n            {isAuthenticated && !isLoading ? renderOrder() : <p>Please sign-in</p>}\r\n        </div>\r\n    );\r\n\r\n\r\n}","import React, { useRef, useState, useEffect } from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { onError } from \"../libs/errorLib\";\r\nimport \"./Forms.css\";\r\nimport \"./CollectCertificate.css\";\r\nimport {useAppContext} from \"../libs/contextLib\";\r\nimport embossing from \"../embossing.svg\";\r\nimport ListGroup from \"react-bootstrap/ListGroup\";\r\nimport {LinkContainer} from \"react-router-bootstrap\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport LoaderButton from \"./LoaderButton\";\r\n\r\nexport default function CollectCertificate() {\r\n    const [key, setKey] = useState(null);\r\n    const history = useHistory();\r\n    const { uuid } = useParams();\r\n    const [checkout, setCheckout] = useState(null);\r\n    const {isAuthenticated} = useAppContext();\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        async function onLoad() {\r\n            setIsLoading(true);\r\n            if (!isAuthenticated) {\r\n                return;\r\n            }\r\n            try {\r\n                const checkout = await loadCheckout({uuid});\r\n                console.log(\"checkout = \"+checkout )\r\n                setCheckout(checkout)\r\n            } catch (e) {\r\n                onError(e);\r\n            }\r\n            setIsLoading(false);\r\n        }\r\n        onLoad();\r\n    }, [isAuthenticated,uuid, key]);\r\n\r\n\r\n    function validateForm() {\r\n        return checkout.Order.ProductionStatus==\"READY_TO_DELIVER\";\r\n    }\r\n\r\n    function handleSubmit(event) {\r\n        console.log(\"handleSubmit1\")\r\n        event.preventDefault();\r\n        console.log(\"handleSubmit2\")\r\n        if(checkout.Order.ProductionStatus!=\"READY_TO_DELIVER\") {\r\n            console.log(\"handleSubmit3\")\r\n            setKey( \"\"+Math.random() )\r\n        }\r\n    }\r\n\r\n    function loadCheckout(orderId) {\r\n        return new Promise(resolve => {\r\n            try {\r\n                // Sending and receiving data in JSON format using POST method\r\n                //\r\n                var xhr = new XMLHttpRequest();\r\n                var url = process.env.REACT_APP_UNCOPIED_API+\"api/v1.0/order/checkout/\"+orderId.uuid;\r\n                console.log(url)\r\n                xhr.open(\"GET\", url, true);\r\n                xhr.setRequestHeader(\"Content-Type\", \"application/json\");\r\n                xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem(\"jwtoken\"));\r\n                xhr.onload = function () {\r\n                    if (xhr.status === 200) {\r\n                        var json = JSON.parse(xhr.responseText);\r\n                        if (json == null) {\r\n                            alert(\"Could not get order, json is null\");\r\n                        } else {\r\n                            console.log(json);\r\n                            resolve(json)\r\n                        }\r\n                    } else {\r\n                        alert(\"Could not get order \" + xhr.status);\r\n                    }\r\n                };\r\n                /*\r\n                \"source_license\":\"CC-BY 4.0\",\r\n                \"ipfs_hash\":\"QmZFmZfRcspTtgUk7EDZNofTMJiCUh7ffhU6kd3ycNbWDi\"\r\n                */\r\n                xhr.send();\r\n            } catch (e) {\r\n                onError(e);\r\n            }\r\n        })\r\n    }\r\n\r\n    function renderOrder() {\r\n        return (\r\n            <div className=\"form-container-outer\">\r\n                <div className=\"form-container-inner\">\r\n                    <div>\r\n                        <img className=\"embossing\" src={embossing} alt=\"embossing\" />\r\n                        <h2 align=\"center\">PREVIEW CERTIFICATE</h2>\r\n                    </div>\r\n                    <h3>Thank you !</h3>\r\n                    <p>\r\n                        Your order production status is {checkout.Order.ProductionStatus}.\r\n                        { checkout.Order.ProductionStatus=='READY_TO_DELIVER' ? <p> Download <a href={`${process.env.REACT_APP_UNCOPIED_WWW}doc/${checkout.Order.OrderUUID}/${checkout.Order.ZipBundle}`}>{checkout.Order.ZipBundle}</a> </p> : <p>  Reload to refresh status {checkout.Order.ProductionMessage}  </p> }\r\n                    </p>\r\n                    <p>\r\n                        Your order delivery status is {checkout.Order.DeliveryStatus}\r\n                    </p>\r\n                    <p>\r\n                        Your order payment status is {checkout.Order.PaymentStatus}\r\n                    </p>\r\n                    <Form onSubmit={handleSubmit}>\r\n                        <LoaderButton\r\n                            block\r\n                            size=\"lg\"\r\n                            type=\"submit\"\r\n                            isLoading={isLoading}\r\n                            disabled={validateForm()}\r\n                        >\r\n                            {!validateForm() ? \"Click to Refresh\" : \"Thank you!\"}\r\n                        </LoaderButton>\r\n                    </Form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"Home\">\r\n            {isAuthenticated && !isLoading ? renderOrder() : <p>Please sign-in</p>}\r\n        </div>\r\n    );\r\n\r\n\r\n}","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Home from \"./containers/Home\";\nimport NotFound from \"./containers/NotFound\";\nimport Login from \"./containers/Login\";\nimport Signup from \"./containers/Signup\";\nimport NewArtworkSource from \"./containers/NewArtworkSource\";\nimport ArtworkSource from \"./containers/ArtworkSource\";\nimport ArtworkSources from \"./containers/ArtworkSources\";\nimport NewCertificate from \"./containers/NewCertificate\"\nimport CheckoutCertificate from \"./containers/CheckoutCertificate\"\nimport CollectCertificate from \"./containers/CollectCertificate\"\n\nexport default function Routes() {\n  return (\n    <Switch>\n\t\t<Route exact path=\"/\">\n\t\t\t<Home />\n\t\t</Route>\n\t\t<Route exact path=\"/login\">\n\t\t\t<Login />\n\t\t</Route>\n\t\t<Route exact path=\"/signup\">\n\t\t  <Signup />\n\t\t</Route>\n\t\t<Route exact path=\"/src/new\">\n\t\t  <NewArtworkSource />\n\t\t</Route>\n\t\t<Route exact path=\"/src/:id\">\n\t\t\t<ArtworkSource />\n\t\t</Route>\n\t\t<Route exact path=\"/src\">\n\t\t\t<ArtworkSources />\n\t\t</Route>\n\t\t<Route exact path=\"/cert/new/:id\">\n\t\t\t<NewCertificate />\n\t\t</Route>\n\t\t<Route exact path=\"/cert/order/:uuid\">\n\t\t\t<CheckoutCertificate />\n\t\t</Route>\n\t\t<Route exact path=\"/cert/collect/:uuid\">\n\t\t\t<CollectCertificate />\n\t\t</Route>\n\t\t{/* Finally, catch all unmatched routes */}\n\t\t<Route>\n\t\t  <NotFound />\n\t\t</Route>\t  \n    </Switch>\n  );\n}","import React, { ChangeEvent, useState } from \"react\"\nimport { useTranslation } from 'react-i18next';\n\nconst LangLib = () => {\n    const { i18n } = useTranslation();\n    const [lang, setLang] = useState();\n\n    let changeLanguage = (event) => {\n        let language = event.target.value;\n        setLang(language)\n        i18n.changeLanguage(language)\n    }\n\n    return (\n        <div>\n            <div>\n                <select value={lang} name=\"language\" onChange={changeLanguage}>\n                    <option value=\"fr\">FR</option>\n                    <option value=\"en\">EN</option>\n                </select>\n            </div>\n        </div>\n    )\n}\n\nexport default LangLib;","import React, { useState, useEffect } from \"react\";\r\nimport logo from './logo.svg';\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\nimport './App.css';\r\nimport Routes from \"./Routes\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { AppContext } from \"./libs/contextLib\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { onError } from \"./libs/errorLib\";\r\nimport LangLib from \"./libs/langLib\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nfunction App() {\r\n\tconst [isAuthenticated, userHasAuthenticated] = useState(false);\r\n\tconst [isAuthenticating, setIsAuthenticating] = useState(true);\r\n\tconst history = useHistory();\r\n\tconst { t } = useTranslation();\r\n\r\n\tuseEffect(() => {\r\n\t\tonLoad();\r\n\t}, []);\r\n\r\n\tasync function onLoad() {\r\n\t\ttry {\r\n\t\t\tif (localStorage.getItem(\"jwtoken\")) {\r\n\t\t\t\t// TODO set client-side expiry for this token\r\n\t\t\t\tuserHasAuthenticated(true);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\tif (e !== 'No current user') {\r\n\t\t\t\tonError(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetIsAuthenticating(false);\r\n\t}\r\n\r\n\tfunction handleLogout() {\r\n\t\t// need to clear cookies?\r\n\t\tlocalStorage.removeItem('jwtoken');\r\n\t\tlocalStorage.clear();\r\n\t\tuserHasAuthenticated(false);\r\n\t\tsetIsAuthenticating(false);\r\n\t\thistory.push(\"/login\");\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"App pt-3\">\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<small>\r\n\t\t\t\t\t{t('common.debug-header')} -\r\n\t\t\t<a href=\"https://calendly.com/namsor/uncopied_art\" target=\"top\"> {t('common.debug-contact')} </a>\r\n\t\t\t-\r\n\t\t\tdebug env {process.env.REACT_APP_UNCOPIED_API}\r\n\t\t\t\t</small>\r\n\t\t\t\t<Navbar collapseOnSelect bg=\"light\" expand=\"md\" className=\"mb-3\">\r\n\t\t\t\t\t<LinkContainer to=\"/\">\r\n\t\t\t\t\t\t<Navbar.Brand className=\"font-weight-bold text-muted\">\r\n\t\t\t\t\t\t\t<img className=\"logo\" src={logo} alt=\"logo\" width=\"150px\" />\r\n\t\t\t\t\t\t</Navbar.Brand>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t<Navbar.Toggle />\r\n\t\t\t\t\t<Navbar.Collapse className=\"justify-content-end\">\r\n\t\t\t\t\t\t<Nav activeKey={window.location.pathname}>\r\n\t\t\t\t\t\t\t{isAuthenticated ? (\r\n\t\t\t\t\t\t\t\t<Nav.Link onClick={handleLogout}>{t('common.logout')}</Nav.Link>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<LinkContainer to=\"/signup\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Nav.Link>{t('common.signup')}</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t<LinkContainer to=\"/login\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Nav.Link>{t('common.login')}</Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t<a href={\"https://uncopied.github.io/blog/\"} class={\"nav-link\"}>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('common.blog')}\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Nav> <LangLib />\r\n\t\t\t\t\t</Navbar.Collapse>\r\n\t\t\t\t</Navbar>\r\n\t\t\t</div>\r\n\t\t\t<AppContext.Provider value={{ isAuthenticated, userHasAuthenticated }}>\r\n\t\t\t\t<Routes />\r\n\t\t\t</AppContext.Provider>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport translationEN from './i18n/en.json';\nimport translationFR from './i18n/fr.json';\n\nlet defaultLanguage = \"fr\";\n\n// the translations\nconst resources = {\n    en: {\n        translation: translationEN\n    },\n    fr: {\n        translation: translationFR\n    }\n};\n\ni18n\n    .use(LanguageDetector)\n    .use(initReactI18next) // passes i18n down to react-i18next\n    .init({\n        resources,\n        lng: defaultLanguage,\n\n        keySeparator: \".\",  // to support nested translations\n\n        interpolation: {\n            escapeValue: false // react already safes from xss\n        }\n    });\n\nexport default i18n;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport './i18n';\n\nReactDOM.render(\n  <React.StrictMode>\n\t<Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}